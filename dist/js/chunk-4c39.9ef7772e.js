(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c39"],{1587:function(e,a,t){},"1aed":function(e,a,t){"use strict";t("1587")},a55b:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-container",{staticClass:"mb-5",attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[t("v-layout",{attrs:{wrap:"","justify-center":"","align-center":""}},[t("div",{staticClass:"card-login"},[t("v-form",{attrs:{novalidate:""},on:{submit:function(a){return a.preventDefault(),e.validateBeforeSubmit(a)}}},[t("v-card",[t("div",{staticClass:"pt-3 mb-2",attrs:{align:"center"}},[t("v-img",{attrs:{src:"/img/logo.png",height:"80",width:"255"}})],1),t("v-card-text",[t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"lowercase",attrs:{"error-messages":e.errors.collect("Usuário"),"data-vv-name":"Usuário",label:"Usuário","prepend-icon":"mdi-account-circle",required:""},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}}),t("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":e.errors.collect("Senha"),type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","data-vv-name":"Senha",label:"Senha","prepend-icon":"mdi-lock",required:""},on:{"click:append":function(a){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}})],1),t("v-divider"),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{loading:e.loadingBtn,color:"primary",type:"submit"}},[e._v("Entrar")])],1)],1)],1)],1)])],1)},i=[],o=t("16cf"),n=t("5a50"),s={metaInfo:{titleTemplate:"%s - Entrar"},data:function(){return{username:"",password:"",showPassword:!1,loadingBtn:!1}},methods:{showErro:function(e){alert(e)},validateBeforeSubmit:function(){var e=this;this.$validator.validate().then(function(a){a?e.login():e.$root.showAlerta(e.$vuetify.t("$vuetify.Erro.camposObrigatorios"))})},login:function(){var e=this,a=this;this.loadingBtn=!0,o["a"].login(this.username,this.password).then(function(t){localStorage.clear();var r=t.data,i=a.username;localStorage.setItem(n["h"].JWT,JSON.stringify(r)),localStorage.setItem(n["h"].LOGIN,i),e.$router.push("/"),e.$root.addTokenHeader()}).then(function(){o["a"].getDadosUsuario(a.username).then(function(e){localStorage.setItem(n["h"].DADOS_USUARIO,JSON.stringify(e.data))}).finally(function(){window.location.reload()})}).catch(function(t){a.showErro("Usuário ou senha inválidos"),e.$router.push("/login")}).finally(function(){e.loadingBtn=!1})}}},l=s,c=(t("1aed"),t("2877")),d=Object(c["a"])(l,r,i,!1,null,"5e94faa9",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-4c39.9ef7772e.js.map