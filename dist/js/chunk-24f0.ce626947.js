(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24f0"],{"15f5":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",{attrs:{fluid:"","grid-list-md":""}},[e("core-progress-modal",{attrs:{show:a.loading}}),a.loading?a._e():e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md12:""}},[e("v-form",[e("v-card",{staticClass:"elevation-0"},[e("v-card-title",[e("h3",{staticClass:"headline mb-0"},[a._v("Identificação")])]),e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md9:""}},[e("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":a.errors.collect("Nome Rede"),"data-vv-name":"Nome Rede",label:"Nome Rede",required:""},model:{value:a.form.nome,callback:function(t){a.$set(a.form,"nome",t)},expression:"form.nome"}})],1),e("v-flex",{attrs:{md3:""}},[e("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"error-messages":a.errors.collect("Sigla"),label:"Sigla",type:"text","data-vv-name":"Sigla",required:""},model:{value:a.form.sigla,callback:function(t){a.$set(a.form,"sigla",t)},expression:"form.sigla"}})],1)],1)],1)],1),e("br"),e("v-alert",{attrs:{value:!0,type:"warning"}},[e("span",{staticClass:"subheading"},[a._v("As regras cadastradas na Rede serão aplicadas para todas as Empresas e Lojas dessa Rede.")])]),e("br"),a.form.id&&!a.acao?[e("v-card",[e("v-toolbar",{attrs:{flat:"",color:"white"}},[e("v-toolbar-title",[a._v("Regras da Rede")]),e("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-btn",{attrs:{small:"",fab:"",color:"primary"}},[e("v-icon",{on:{click:function(t){a.newRegra()}}},[a._v("mdi-plus")])],1)],1),e("v-progress-linear",{attrs:{active:a.loading,color:"light-blue",indeterminate:"",height:"3"}}),e("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:a.headers,items:a.regras,"total-items":a.totalItems,pagination:a.pagination},on:{"update:pagination":function(t){a.pagination=t}},scopedSlots:a._u([{key:"items",fn:function(t){var i=t.item;return[e("core-tr-item-regra",{attrs:{item:i,"visualizar-regra":a.visualizarRegra,"alterar-regra":a.editarRegra,reload:a.reload}})]}}])})],1),e("v-layout",{staticClass:"justify-end"},[[e("v-btn",{staticStyle:{color:"black !important"},attrs:{outline:""},on:{click:a.cancelar}},[a._v("Cancelar")]),e("v-btn",{attrs:{loading:a.loadingBtn,color:"primary"},on:{click:a.validateBeforeSubmit}},[a._v("Salvar")])]],2)]:[a.disabled?a._e():e("v-card",{staticClass:"elevation-0"},[e("v-card-text",[e("v-autocomplete",{attrs:{items:a.redes,"item-value":"id","item-text":"descricao",label:"Copiar dados da regra vigente de outra rede"},on:{change:a.carregaDadosRedeCopy},model:{value:a.copyRedeId,callback:function(t){a.copyRedeId=t},expression:"copyRedeId"}})],1)],1),a.loading?a._e():e("core-regra-financeira",{attrs:{disabled:a.disabled,salvar:a.validateBeforeSubmit,voltar:a.voltar,cancelar:a.cancelar,acao:a.acao,"primeira-regra":0===a.totalItems},model:{value:a.regra,callback:function(t){a.regra=t},expression:"regra"}})]],2)],1)],1)],1)},o=[],r=e("5530"),s=e("3a86"),d=e("89d9"),n=e("5a50"),c={metaInfo:{titleTemplate:"%s - Rede"},data:function(){return{copyRedeId:null,redes:[],form:{id:null,nome:null,sigla:null},regra:new d["a"],headers:[{class:"grey lighten-1",sortable:!1,text:"Vigente",align:"center"},{class:"grey lighten-1",sortable:!1,text:"Vigente Desde",value:"dtVigencia"},{class:"grey lighten-1",sortable:!1,text:"Multa atraso",align:"right",value:"peMultaPorAtraso"},{class:"grey lighten-1",sortable:!1,text:"Juros Mora atraso",align:"right",value:"peJurosMoraPorAtraso"},{class:"grey lighten-1",sortable:!1,text:"Tarifa Parcela Banco",align:"right",value:"vlTarifaParcelaBanco"},{class:"grey lighten-1",sortable:!1,text:"Tarifa Parcela Loja",align:"right",value:"vlTarifaParcelaLoja"},{class:"grey lighten-1",sortable:!1,text:"Cobrar Carnê em Loja",align:"right",value:"cobrarCarneLoja"},{class:"grey lighten-1",sortable:!1,text:"Incluída Por",value:"nomeUsuario"},{class:"grey lighten-1",sortable:!1,text:"",value:"",align:"center"}],loading:!1,totalItems:0,pagination:{rowsPerPage:10,sortBy:"dataVigencia"},filtros:{redeId:null},regras:[],valid:!1,acao:null,disabled:!1,loadingBtn:!1,const_nova_regra:n["d"],const_view_regra:n["f"]}},watch:{pagination:{handler:function(){this.paginar()}}},beforeMount:function(){this.reload()},methods:{validateBeforeSubmit:function(){var a=this;this.$validator.validate().then(function(t){if(t){a.loadingBtn=!0;var e=a.form.id?"Atualização realizada com sucesso":"Cadastro realizado com sucesso";s["t"].salvar(a.form).then(function(t){a.form=t.data,a.regra.redeId=a.form.id,a.acao===a.const_nova_regra?s["v"].salvar(a.regra).then(function(t){a.$root.showSucesso(e),a.loadingBtn=!1,a.reset()}).catch(function(t){a.$root.showErro(t.data),a.loadingBtn=!1}):(a.$root.showSucesso(e),a.loadingBtn=!1)}).catch(function(t){a.$root.showErro(t.data),a.loadingBtn=!1})}else a.$root.showAlerta(a.$vuetify.t("$vuetify.Erro.camposObrigatorios"))})},cancelar:function(){this.$router.push("/lista-rede")},voltar:function(){this.reset()},visualizarRegra:function(a){var t=this;this.disabled=!0,s["v"].getById(a.id).then(function(a){t.regra=a.data,t.regra.dataVigencia=t.$moment(a.data.dataVigencia).format("YYYY-MM-DD"),t.regra.dataVigenciaLancamento=t.$moment(a.data.dataVigenciaLancamento).format("YYYY-MM-DD"),t.acao=t.const_view_regra}).catch(function(){return t.$root.showAlerta("Problemas para recuperar os dados da regra, tentar mais tarde")})},editarRegra:function(a){var t=this;s["v"].getById(a.id).then(function(a){t.regra=a.data,t.regra.dataVigencia=t.$moment(a.data.dataVigencia).format("YYYY-MM-DD"),a.data.dataVigenciaLancamento&&(t.regra.dataVigenciaLancamento=t.$moment(a.data.dataVigenciaLancamento).format("YYYY-MM-DD")),t.acao=n["b"]}).catch(function(){return t.$root.showAlerta("Problemas para recuperar os dados da regra, tentar mais tarde")})},carregaDadosRedeCopy:function(a){var t=this;this.loading=!0,s["t"].getRegrafinanceiraVigenteById(a).then(function(a){t.regra=Object(r["a"])({},a.data),t.regra.dataVigencia=t.$moment().format("YYYY-MM-DD"),t.regra.dataVigenciaLancamento=t.$moment().format("YYYY-MM-DD"),t.regra.id=null,t.regra.isVigente=!1}).catch(function(a){t.$root.showAlerta("Problemas para copiar dados: "+a)}).finally(function(){t.loading=!1})},newRegra:function(){var a=this;this.acao=this.const_nova_regra,this.regra=new d["a"],s["C"].getAllRedes().then(function(t){a.redes=t.data})},paginar:function(){var a=this;this.filtros.redeId||(this.filtros.redeId=this.form.id),s["v"].pagination(this.pagination.rowsPerPage,this.pagination.page-1,this.pagination.sortBy||"dataVigencia",this.filtros).then(function(t){a.regras=t.data.content,a.totalItems=t.data.totalElements}).catch(function(){return a.$root.showErro("Erro ao carregar as regras da rede")})},reset:function(){this.acao=null,this.disabled=!1},reload:function(){var a=this;this.reset();var t=this.$route.params.id;t?(this.loading=!0,this.filtros.redeId=t,s["t"].getById(t).then(function(t){a.form=t.data,a.paginar()}).finally(function(){a.loading=!1})):this.newRegra()}}},l=c,v=e("2877"),h=Object(v["a"])(l,i,o,!1,null,null,null);t["default"]=h.exports},"89d9":function(a,t,e){"use strict";e.d(t,"a",function(){return d});var i=e("d4ec"),o=e("ade3"),r=function a(){Object(i["a"])(this,a),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"faixaInicial1",void 0),Object(o["a"])(this,"faixaFinal1",void 0),Object(o["a"])(this,"peEntrada1",void 0),Object(o["a"])(this,"faixaInicial2",void 0),Object(o["a"])(this,"faixaFinal2",void 0),Object(o["a"])(this,"peEntrada2",void 0),Object(o["a"])(this,"faixaInicial3",void 0),Object(o["a"])(this,"faixaFinal3",void 0),Object(o["a"])(this,"peEntrada3",void 0),Object(o["a"])(this,"flgAnaliseVisual",void 0),Object(o["a"])(this,"grupo",void 0),this.flgAnaliseVisual=!1},s=e("fa1c"),d=function a(){Object(i["a"])(this,a),Object(o["a"])(this,"id",void 0),Object(o["a"])(this,"redeId",void 0),Object(o["a"])(this,"empresaId",void 0),Object(o["a"])(this,"lojaId",void 0),Object(o["a"])(this,"dataVigencia",void 0),Object(o["a"])(this,"usuarioId",void 0),Object(o["a"])(this,"nomeUsuario",void 0),Object(o["a"])(this,"listCobrarCarneId",[]),Object(o["a"])(this,"peMultaPorAtraso",void 0),Object(o["a"])(this,"peJurosMoraPorAtraso",void 0),Object(o["a"])(this,"limiteCreditoMesMinimo",void 0),Object(o["a"])(this,"limiteCreditoMesMaximo",void 0),Object(o["a"])(this,"excessoLimiteCredito",void 0),Object(o["a"])(this,"listPlanoPagamentoId",void 0),Object(o["a"])(this,"vlTarifaParcelaBanco",void 0),Object(o["a"])(this,"vlTarifaParcelaLoja",void 0),Object(o["a"])(this,"peOverLimite",10),Object(o["a"])(this,"peLimiteGlobal",void 0),Object(o["a"])(this,"registroFatura",void 0),Object(o["a"])(this,"peMaxDescontoAtrasoAcordo",void 0),Object(o["a"])(this,"peMaxDescontoAtualizacaoAcordo",void 0),Object(o["a"])(this,"parcelaAcordoEmAte",void 0),Object(o["a"])(this,"vlMinParcelaAcordo",void 0),Object(o["a"])(this,"qtdDiasVencimentoEntradaAcordo",void 0),Object(o["a"])(this,"qtdDiasAtrasoCancelaAutoAcordo",void 0),Object(o["a"])(this,"qtdDiasAtrasoMinAcordo",void 0),Object(o["a"])(this,"vlTarifaParaAcordo",void 0),Object(o["a"])(this,"taxaJurosParcelaAcordo",void 0),Object(o["a"])(this,"flgRealizarConsCadastral",void 0),Object(o["a"])(this,"tempoDeCadastro",void 0),Object(o["a"])(this,"qtdDiasValidSPCAutoriz1",void 0),Object(o["a"])(this,"qtdDiasMaiorAtrasoSPCAutoriz1",void 0),Object(o["a"])(this,"qtdDiasValidSPCAutoriz2",void 0),Object(o["a"])(this,"qtdDiasMaiorAtrasoSPCAutoriz2",void 0),Object(o["a"])(this,"peMultaAtraso",void 0),Object(o["a"])(this,"peJurosMoraAtraso",void 0),Object(o["a"])(this,"tarifaParcela",void 0),Object(o["a"])(this,"contaCobrancaCarneId",void 0),Object(o["a"])(this,"qtdMinPagCarneClienteAntigo",void 0),Object(o["a"])(this,"peEntradaCarneAntigos",void 0),Object(o["a"])(this,"qtDiasAtrasoEntradaCarneAntigos",void 0),Object(o["a"])(this,"peEntradaCarneNovos",void 0),Object(o["a"])(this,"flgObrigaEntradaNovos",void 0),Object(o["a"])(this,"qtdMinDiasCompraClienteAntigo",void 0),Object(o["a"])(this,"peMinPagPrimCompraEntradaCarne",void 0),Object(o["a"])(this,"qtdDiasMaxAtrasoClienteEspecial",void 0),Object(o["a"])(this,"flgProgRecompensa",void 0),Object(o["a"])(this,"qtdPontosMin",void 0),Object(o["a"])(this,"qtdPontosMax",void 0),Object(o["a"])(this,"qtdDiasValidade",void 0),Object(o["a"])(this,"qtdLimCruzaDados",void 0),Object(o["a"])(this,"flgUtilizarCruzamentoCadastroCompleto",void 0),Object(o["a"])(this,"flgLimitarCruzamentoPropriaRede",void 0),Object(o["a"])(this,"flgIncluirIndependenteCruzamento",void 0),Object(o["a"])(this,"flgNomeCliente",void 0),Object(o["a"])(this,"flgNomePai",void 0),Object(o["a"])(this,"flgTelResidencial",void 0),Object(o["a"])(this,"flgTelComercial",void 0),Object(o["a"])(this,"flgCelular",void 0),Object(o["a"])(this,"flgRg",void 0),Object(o["a"])(this,"flgNomeMae",void 0),Object(o["a"])(this,"flgEndereco",void 0),Object(o["a"])(this,"flgRefPessoais",void 0),Object(o["a"])(this,"flgTelComercialConjuge",void 0),Object(o["a"])(this,"tpRegra",void 0),Object(o["a"])(this,"rotinaAtualizaLimCred1",void 0),Object(o["a"])(this,"qtdFaturasPagas1",void 0),Object(o["a"])(this,"qtdDiasAtrasoMax1",void 0),Object(o["a"])(this,"peAumentoMes1",void 0),Object(o["a"])(this,"peAumentoAcm1",void 0),Object(o["a"])(this,"vlLimMesMaxAumento1",void 0),Object(o["a"])(this,"vlLimAcmMaxAumento1",void 0),Object(o["a"])(this,"qtdDiasSemCompraMin1",void 0),Object(o["a"])(this,"qtdDiasAtrasoContaMaxLimite1",void 0),Object(o["a"])(this,"qtdDiasAtrasoMax2",void 0),Object(o["a"])(this,"peMinPagFaturaAumentoLimite2",void 0),Object(o["a"])(this,"vlLimiteMinPeUtilizAumentoLimiteAuto2",void 0),Object(o["a"])(this,"peMinUtilizAumentoLimiteAuto2",void 0),Object(o["a"])(this,"vlAumentoLimiteAbaixoVlBaseAumentoLimiteAuto2",void 0),Object(o["a"])(this,"vlBaseLimCreditoAumentoLimiteAuto2",void 0),Object(o["a"])(this,"vlAumentoLimiteAcimaVlBaseAumentoLimiteAuto2",void 0),Object(o["a"])(this,"vlLimAcmMaxAumento2",void 0),Object(o["a"])(this,"diasPagtoLoja",void 0),Object(o["a"])(this,"diasPagtoBanco",void 0),Object(o["a"])(this,"diasCarenciaEncargos",void 0),Object(o["a"])(this,"qtdMaxDependentes",void 0),Object(o["a"])(this,"diasAtrasoBloqueioAutorizacao",void 0),Object(o["a"])(this,"vlAtrasoLimiteAutorizacao",void 0),Object(o["a"])(this,"flgEmiteCartaoBloqueado",void 0),Object(o["a"])(this,"flgLiberarComprasClientesSPC",void 0),Object(o["a"])(this,"flgLiberarComprasClientesSPCOutrasRedes",void 0),Object(o["a"])(this,"embocadoraId",1),Object(o["a"])(this,"msgPadraoSms",void 0),Object(o["a"])(this,"concessaoCreditoId",void 0),Object(o["a"])(this,"peMaxRenda",void 0),Object(o["a"])(this,"qtdPontosScore",void 0),Object(o["a"])(this,"permiteCadAbaixoScore",void 0),Object(o["a"])(this,"limiteCreditoGrupoA",new r),Object(o["a"])(this,"limiteCreditoGrupoB",new r),Object(o["a"])(this,"limiteCreditoGrupoC",new r),Object(o["a"])(this,"limiteCreditoGrupoD",new r),Object(o["a"])(this,"limiteCreditoGrupoE",new r),Object(o["a"])(this,"limiteCreditoGrupoF",new r),Object(o["a"])(this,"limiteCreditoGrupoZ",new r),Object(o["a"])(this,"tpLancamentoId",void 0),Object(o["a"])(this,"diaLancamento",void 0),Object(o["a"])(this,"vlLancamento",void 0),Object(o["a"])(this,"dataVigenciaLancamento",void 0),Object(o["a"])(this,"msgBoasVindas",void 0),Object(o["a"])(this,"msgAutorizaCompra",void 0),Object(o["a"])(this,"msgCompraEfetuada",void 0),Object(o["a"])(this,"msgAumentoCredito",void 0),Object(o["a"])(this,"tpPrazoRepasseCompra","N dias após 5, 15 e 25"),Object(o["a"])(this,"qtdDiasPrazoRepasseCompra",void 0),Object(o["a"])(this,"peComissaoCompra",void 0),Object(o["a"])(this,"peEncAtrasoRepasseCompra",void 0),Object(o["a"])(this,"peDescAdiantaRepasseCompra",void 0),Object(o["a"])(this,"flgRepasseParcelado",void 0),Object(o["a"])(this,"flgTarifaVariavel",void 0),Object(o["a"])(this,"flgNovaComissao",void 0),Object(o["a"])(this,"peComissaoCompra01",void 0),Object(o["a"])(this,"peComissaoCompra02",void 0),Object(o["a"])(this,"peComissaoCompra03",void 0),Object(o["a"])(this,"peComissaoCompra04",void 0),Object(o["a"])(this,"peComissaoCompra05",void 0),Object(o["a"])(this,"peComissaoCompra06",void 0),Object(o["a"])(this,"peComissaoCompra07",void 0),Object(o["a"])(this,"peComissaoCompra08",void 0),Object(o["a"])(this,"peComissaoCompra09",void 0),Object(o["a"])(this,"peComissaoCompra10",void 0),Object(o["a"])(this,"peComissaoCompra11",void 0),Object(o["a"])(this,"peComissaoCompra12",void 0),Object(o["a"])(this,"servicoSPC",void 0),this.dataVigencia=s["a"].addDia(new Date,1),this.servicoSPC="SPC"}},d4ec:function(a,t,e){"use strict";function i(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}e.d(t,"a",function(){return i})}}]);
//# sourceMappingURL=chunk-24f0.ce626947.js.map