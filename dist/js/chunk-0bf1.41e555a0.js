(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bf1","65e0","65e0"],{"4b67":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-form",[a("v-layout",{attrs:{row:"",wrap:""}},[a("core-progress-modal",{attrs:{show:e.loading}}),e.loading?e._e():[a("v-flex",{attrs:{md12:""}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[e._v("Reembolsar Repasse")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md9:""}},[a("core-filtro-rede-empresa-loja",{attrs:{"show-todas":!0,obrigatorio:!0},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),a("v-flex",{attrs:{md3:""}},[a("v-text-field",{attrs:{type:"date",label:"Vencimento até"},model:{value:e.form.vencimentoAte,callback:function(t){e.$set(e.form,"vencimentoAte",t)},expression:"form.vencimentoAte"}})],1)],1),a("v-layout",{staticClass:"justify-end"},[a("v-btn",{attrs:{disabled:e.disableBtn,loading:e.loadingBtn,color:"primary"},on:{click:e.gerar}},[e._v("Gerar")])],1)],1)],1),a("v-card",{staticClass:"mt-3"},[a("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:e.headers,items:e.items,"select-all":"","item-key":"lojaId","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[a("tr",[a("th",{staticStyle:{width:"3%"}},[a("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,"hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1),e._l(t.headers,function(t){return a("th",{key:t.text,class:t.class,attrs:{align:t.align}},[e._v("\n                    "+e._s(t.text)+"\n                  ")])})],2)]}},{key:"items",fn:function(t){return[a("tr",{attrs:{active:t.selected}},[a("td",[a("v-checkbox",{attrs:{"input-value":t.selected,primary:"","hide-details":""},on:{click:function(e){t.selected=!t.selected}}})],1),a("td",[e._v("\n                    "+e._s(t.item.redeNome)+"\n                  ")]),a("td",[e._v("\n                    "+e._s(t.item.lojaNome)+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalCompras,expression:"props.item.vlTotalCompras"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalCompras))+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalComissaoCompras,expression:"props.item.vlTotalComissaoCompras"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalComissaoCompras))+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalCreditoAdmin,expression:"props.item.vlTotalCreditoAdmin"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalCreditoAdmin))+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalPagamentosLoja,expression:"props.item.vlTotalPagamentosLoja"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalPagamentosLoja))+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalCreditoLojista,expression:"props.item.vlTotalCreditoLojista"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalCreditoLojista))+"\n                  ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:t.item.vlTotalPagar,expression:"props.item.vlTotalPagar"}],staticClass:"text-xs-right"},[e._v("\n                    "+e._s(e.formatValorMonetario(t.item.vlTotalPagar))+"\n                  ")])])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:0===e.selected.length,loading:e.loadingBtn,color:"primary"},on:{click:e.openDialogBoleto}},[e._v("Efetuar Reembolso")])],1)],1)],1)]],2)],1),[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"490"},model:{value:e.dialogBoleto,callback:function(t){e.dialogBoleto=t},expression:"dialogBoleto"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Confirma Emissão de Boleto")]),a("v-alert",{attrs:{value:!0,type:"warning"}},[a("span",[e._v("Será enviado um email para a empresa e ao entrar no sistema Prático receberá uma notificação com o boleto para pagar.")])]),a("v-card-text",[a("p",[e._v("\n              Confirma a emissão de boleto para cada empresa selecionada,\n              com valor correspondente ao saldo acumulado a pagar\n              e com vencimento "),a("span",{staticClass:"title"},[e._v(" "+e._s(e._f("moment")(e.form.vencimentoAte,"DD/MM/YYYY"))+" ")]),e._v("?\n            ")])]),a("v-card-actions",[a("v-btn",{staticStyle:{color:"black !important"},attrs:{outline:""},on:{click:function(t){e.dialogBoleto=!1}}},[e._v("Cancelar")]),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.gerarBoleto()}}},[e._v("Confirmar")])],1)],1)],1)],1)]],2)},i=[],r=a("3a86"),l=a("65e0"),s=a("5a50"),n={data:function(){return{selected:[],dialogBoleto:!1,form:{redeId:s["k"],empresaId:s["k"],lojaId:s["k"],redeNome:null,empresaNome:null,vencimentoAte:null,lojasSelecionadas:[]},items:[],headers:[{sortable:!1,text:"Rede",value:"redeNome",align:"left",class:"grey lighten-1"},{sortable:!1,text:"Empresa (Loja)",align:"left",value:"lojaNome",class:"grey lighten-1"},{sortable:!1,text:"Compras",value:"compras",align:"right",class:"grey lighten-1"},{sortable:!1,text:"Comissão compras",value:"comissaoCompras",align:"right",class:"grey lighten-1"},{sortable:!1,text:"Créditos admin",value:"creditosAdmin",align:"right",class:"grey lighten-1"},{sortable:!1,text:"Pagtos em loja",value:"pagtosLoja",align:"right",class:"grey lighten-1"},{sortable:!1,text:"Créditos lojista",value:"creditosLojista",align:"right",class:"grey lighten-1"},{sortable:!1,text:"Saldo acumulado a pagar",value:"vlTotalPagar",align:"right",class:"grey lighten-1"}],loading:!1,loadingBtn:!1}},computed:{disableBtn:function(){return!(this.form.redeId&&this.form.empresaId&&this.form.vencimentoAte)}},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},gerar:function(){var e=this;this.loadingBtn=this.loading=!0,r["u"].calculaReembolsoRepasse(this.form).then(function(t){e.items=t.data,e.toggleAll(),0===e.items.length&&e.$root.showAlerta("Não foram encontrados registros")}).catch(function(){return e.$root.showErro("Erro ao tentar gerar o Reembolso Repasse, tentar mais tarde!")}).finally(function(){e.loadingBtn=e.loading=!1})},openDialogBoleto:function(){this.dialogBoleto=!0},gerarBoleto:function(){var e=this;this.form.lojasSelecionadas=this.selected.map(function(e){return e.lojaId}),this.loading=!0,r["u"].efetuarReembolso(this.form).then(function(t){e.$root.showSucesso(t.data),e.dialogBoleto=!1}).catch(function(t){e.$root.showErro(t.data)}).finally(function(){e.loading=!1})},formatValorMonetario:function(e){return l["a"].formatValorMonetario(e)}}},c=n,m=a("2877"),d=Object(m["a"])(c,o,i,!1,null,null,null);t["default"]=d.exports},"65e0":function(e,t,a){"use strict";a("a481"),a("c5f6");t["a"]={convertStringToNumber:function(e){return e?Number(e.replaceAll(".","").replace(",",".").replace(/[^0-9.-]+/g,"")):0},calculaDescontoPercentual:function(e,t){if(t){var a=this.convertStringToNumber(t)/100;return console.log("percentualCalculado: "+a),console.log("valorBase: "+e),console.log("multiplicado: "+e*a),e*a}return 0},formatValorMonetario:function(e){return e?e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):"0,00"}}}}]);
//# sourceMappingURL=chunk-0bf1.41e555a0.js.map