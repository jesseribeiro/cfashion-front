(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["c24a"],{c24a:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-form",{ref:"form2",on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("core-progress-modal",{attrs:{show:t.loading}}),t.loading?t._e():a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-title",[a("h3",{staticClass:"headline mb-0"},[t._v("Selecione os lançamentos")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("core-label-value",{attrs:{label:"Rede",value:t.value.redeNome}})],1),a("v-flex",{attrs:{md3:""}},[a("core-label-value",{attrs:{label:"Empresa",value:t.value.empresaNome}})],1),a("v-flex",{attrs:{md6:""}},[a("core-label-value",{attrs:{label:"Loja",value:t.value.lojaNome}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Vencimento até",value:t._f("moment")(t.value.vencimentoAte,"DD/MM/YYYY")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Pagamento em",value:t._f("moment")(t.value.pagamentoEm,"DD/MM/YYYY")}})],1),a("v-flex",{attrs:{md3:""}},[a("core-label-value",{attrs:{label:"Comissão compras (% a.m.)",value:t.value.peComissaoCompra}})],1),a("v-flex",{attrs:{md3:""}},[a("core-label-value",{attrs:{label:"Desconto antecipação (% a.m.)",value:t.value.peDescontoAntecipacao}})],1)],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md1:""}},[a("core-label-value",{attrs:{label:"Compras",value:t.vlTotalSelecionado("vlTotalCompras")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Comissão compras",value:t.vlTotalSelecionado("vlTotalComissaoCompras")}})],1),a("v-flex",{attrs:{md1:""}},[a("core-label-value",{attrs:{label:"Antecipação compras",value:t.vlTotalSelecionado("vlTotalAntecipacaoCompras")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Créditos admin",value:t.vlTotalSelecionado("vlTotalCreditoAdmin")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Pagamentos loja",value:t.vlTotalSelecionado("vlTotalPagamentosLoja")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Créditos lojista",value:t.vlTotalSelecionado("vlTotalCreditoLojista")}})],1),a("v-flex",{attrs:{md2:""}},[a("core-label-value",{attrs:{label:"Valor a pagar",value:t.vlTotalSelecionado("vlTotalPagar"),"class-value":"headline font-weight-black"}})],1)],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-card",[a("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:t.headers,items:t.items,"hide-actions":"","select-all":"","item-key":"id"},scopedSlots:t._u([{key:"headers",fn:function(e){return[a("tr",[a("th",[a("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAll(e)}}})],1),t._l(e.headers,function(e){return a("th",{key:e.text,class:e.class,attrs:{align:e.align}},[t._v("\n                  "+t._s(e.text)+"\n                ")])})],2)]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("moment")(e.item.vencimento,"DD/MM/YYYY")))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.vlTotalCompras.toLocaleString("pt-BR",{minimumFractionDigits:2})))]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:e.item.vlTotalComissaoCompras,expression:"props.item.vlTotalComissaoCompras"}],staticClass:"text-xs-right"},[t._v("\n                  "+t._s(e.item.vlTotalComissaoCompras.toLocaleString("pt-BR",{minimumFractionDigits:2}))+"\n                ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:e.item.vlTotalAntecipacaoCompras,expression:"props.item.vlTotalAntecipacaoCompras"}],staticClass:"text-xs-right"},[t._v("\n                  "+t._s(e.item.vlTotalAntecipacaoCompras.toLocaleString("pt-BR",{minimumFractionDigits:2}))+"\n                ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:e.item.vlTotalCreditoAdmin,expression:"props.item.vlTotalCreditoAdmin"}],staticClass:"text-xs-right"},[t._v("\n                  "+t._s(e.item.vlTotalCreditoAdmin.toLocaleString("pt-BR",{minimumFractionDigits:2}))+"\n                ")]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:e.item.vlTotalPagamentosLoja,expression:"props.item.vlTotalPagamentosLoja"}],staticClass:"text-xs-right"},[t._v("\n                  "+t._s(e.item.vlTotalPagamentosLoja.toLocaleString("pt-BR",{minimumFractionDigits:2}))+"\n                ")]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.vlTotalCreditoLojista.toLocaleString("pt-BR",{minimumFractionDigits:2})))]),a("td",{directives:[{name:"negative",rawName:"v-negative",value:e.item.vlTotalPagar,expression:"props.item.vlTotalPagar"}],staticClass:"text-xs-right"},[t._v("\n                  "+t._s(e.item.vlTotalPagar.toLocaleString("pt-BR",{minimumFractionDigits:2}))+"\n                ")])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-layout",{staticClass:"justify-end"},[a("v-btn",{attrs:{dark:""},on:{click:t.goBack}},[t._v("Voltar")]),a("v-btn",{attrs:{loading:t.loadingBtn,type:"submit",color:"primary"}},[t._v("Continuar")])],1)],1)],1)],1)],1)},i=[],o=a("5a50"),s=a("3a86"),r={props:{value:{type:Object,required:!0},setData:{type:Function,requided:!0},goBack:{type:Function,requided:!0},nextStep:{type:Function}},data:function(){return{selected:[],items:[],money:o["i"],loadingBtn:!1,headers:[{sortable:!1,text:"Vencimento",value:"dataVencimento",class:"grey lighten-1"},{sortable:!1,text:"Compras",value:"compras",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Comissão compras",value:"comissaoCompras",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Antecipação compras",value:"antecipacaoCompras",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Créditos admin",value:"creditosAdmin",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Pagtos em loja",value:"pagtosLoja",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Créditos lojista",value:"creditosLojista",class:"grey lighten-1",align:"right"},{sortable:!1,text:"Valor a pagar",value:"valorPagar",class:"grey lighten-1",align:"right"}],totalItems:null,loading:!1}},watch:{value:function(){this.$emit("input",this.value)}},beforeMount:function(){var t=this;this.loading=!0,s["y"].calculaRepasseIndividual(this.value).then(function(e){t.items=e.data}).finally(function(){t.loading=!1,t.toggleAll()})},methods:{toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},validateBeforeSubmit:function(){var t=this;this.$validator.validate().then(function(e){e?(t.loadingBtn=!0,t.value.itemsSelecionados=t.selected.map(function(t){return t.vencimento}),t.nextStep()):t.$root.showAlerta(t.$vuetify.t("$vuetify.Erro.camposObrigatorios"))})},vlTotalSelecionado:function(t){return 0===this.selected.length?this.value.extratoRepasse[t]="0,00":this.value.extratoRepasse[t]=this.selected.map(function(e){return e[t]}).reduce(function(t,e){return t+e}).toLocaleString("pt-BR",{minimumFractionDigits:2}),this.value.extratoRepasse[t]}}},n=r,c=a("2877"),v=Object(c["a"])(n,l,i,!1,null,null,null);e["default"]=v.exports}}]);
//# sourceMappingURL=c24a.a1638022.js.map