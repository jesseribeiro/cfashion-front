(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81e6"],{"456d":function(t,a,e){var i=e("4bf8"),n=e("0d58");e("5eda")("keys",function(){return function(t){return n(i(t))}})},"5df3":function(t,a,e){"use strict";var i=e("02f4")(!0);e("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,a=this._t,e=this._i;return e>=a.length?{value:void 0,done:!0}:(t=i(a,e),this._i+=t.length,{value:t,done:!1})})},"5eda":function(t,a,e){var i=e("5ca1"),n=e("8378"),s=e("79e5");t.exports=function(t,a){var e=(n.Object||{})[t]||Object[t],o={};o[t]=a(e),i(i.S+i.F*s(function(){e(1)}),"Object",o)}},aec7:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:"","grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md12:""}},[e("material-card",{attrs:{color:"primary",title:"Auditoria"}},[e("v-card",{staticClass:"elevation-0"},[e("v-form",{on:{submit:function(a){return a.preventDefault(),t.pesquisar(a)}}},[e("v-card-text",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md5:""}},[e("v-autocomplete",{attrs:{items:t.usuarios,label:"Usuário","item-value":"id","item-text":"descricao",clearable:""},model:{value:t.filtros.usuario,callback:function(a){t.$set(t.filtros,"usuario",a)},expression:"filtros.usuario"}})],1),e("v-flex",{attrs:{md3:""}},[e("v-text-field",{attrs:{label:"Data Inicial",type:"date"},model:{value:t.filtros.dataInicial,callback:function(a){t.$set(t.filtros,"dataInicial",a)},expression:"filtros.dataInicial"}})],1),e("v-flex",{attrs:{md1:""}},[e("span",{staticClass:"layout fill-height align-center justify-center"},[t._v("a")])]),e("v-flex",{attrs:{md3:""}},[e("v-text-field",{attrs:{label:"Data Final",type:"date"},model:{value:t.filtros.dataFinal,callback:function(a){t.$set(t.filtros,"dataFinal",a)},expression:"filtros.dataFinal"}})],1),e("v-flex",{attrs:{md5:""}},[e("v-autocomplete",{attrs:{items:t.entities,"item-value":"id","item-text":"descricao",label:"Operação"},model:{value:t.filtros.entity,callback:function(a){t.$set(t.filtros,"entity",a)},expression:"filtros.entity"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{loading:t.loadingBtn,color:"primary",type:"submit"}},[t._v("Pesquisar")])],1)],1)],1)],1)],1),e("v-flex",{attrs:{md12:""}},[e("v-card",[e("v-toolbar",{attrs:{flat:"",color:"white"}},[e("v-toolbar-title",[t._v("Auditorias")]),e("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}})],1),e("v-progress-linear",{attrs:{active:t.loading,color:"light-blue",indeterminate:"",height:"3"}}),e("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:t.headers,items:t.items,"total-items":t.totalItems,pagination:t.pagination,"rows-per-page-items":t.pagination.rowsPerPageItems,"rows-per-page-text":t.pagination.rowsPerPageText,"item-key":"rev_id"},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"items",fn:function(a){var i=a.item;return[e("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("moment")(i["rev_data"],"DD/MM/YYYY H:mm")))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(i["rev_usuario"]))]),e("td",{staticClass:"text-xs-left"},[t._v(t._s(i["rev_operacao"]))]),e("td",{staticClass:"text-xs-left"},[e("span",{domProps:{innerHTML:t._s(t.printDetalhe(i))}})])]}}])})],1)],1)],1)],1)},n=[],s=(e("6762"),e("2fdb"),e("456d"),e("ac6a"),e("5df3"),e("3a86")),o=e("5a50"),r=e("fa1c"),l={metaInfo:{titleTemplate:"%s - Auditoria"},data:function(){return{money:o["i"],pagination:{rowsPerPage:15,rowsPerPageItems:o["j"]},filtros:{entity:null,dataInicial:r["a"].addDia(new Date,-1),dataFinal:r["a"].currentDate(),usuario:null,cpfCliente:null,exibirDetalhes:!1,operacao:o["k"]},headers:[{sortable:!1,text:"Data/Hora",align:"center",value:"data"},{sortable:!1,text:"Usuário",align:"left",value:"usuario"},{sortable:!1,text:"Operação",value:"valorVenda"},{sortable:!1,text:"Detalhes",value:"detalhes"}],items:[],totalItems:null,loading:!1,loadingBtn:!1,usuarios:[],operacoes:[],entities:[]}},watch:{pagination:{handler:function(){this.paginar()}}},beforeMount:function(){var t=this;this.loading=!0;var a=s["C"].getAllUsuarios().then(function(a){t.usuarios=a.data}),e=s["C"].getAllEntitiesAuditaveis().then(function(a){t.entities=t.entities.concat(a.data)}),i=s["C"].getAllOperacoesAuditaveis().then(function(a){t.operacoes.push({id:o["k"],descricao:"Todas"}),t.operacoes=t.operacoes.concat(a.data)});Promise.all([a,e,i]).finally(function(){t.loading=!1})},methods:{pesquisar:function(){this.filtros.entity?(this.loadingBtn=!0,this.paginar()):this.$root.showAlerta("Informe uma Operação")},paginar:function(){var t=this;this.filtros.entity&&(this.loading=!0,s["b"].paginationAuditoria(this.pagination.rowsPerPage,this.pagination.page-1,this.pagination.sortBy,this.filtros).then(function(a){t.items=a.data.content,t.totalItems=a.data.totalElements}).catch(function(a){t.$root.showErro(a.data)}).finally(function(){t.loadingBtn=!1,t.loading=!1}))},printDetalhe:function(t){var a=this,e="";return Object.keys(t).forEach(function(i){["senha","rev_operacao","rev_data","rev_usuario","rev_id"].includes(i)||(i.indexOf("data")>-1?(e+="<b>".concat(i,": </b>"),t[i]&&(e+=a.$moment(t[i]).format("DD/MM/YYYY"))):(e+="<b>".concat(i,": </b>"),t[i]&&(e+=t[i])),e+=" <br>")}),e}}},c=l,u=e("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-81e6.3e47bb9d.js.map