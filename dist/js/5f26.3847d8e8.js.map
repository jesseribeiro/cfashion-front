{"version":3,"sources":["webpack:///./src/views/repasse/LancamentoExtra.vue?5b57","webpack:///src/views/repasse/LancamentoExtra.vue","webpack:///./src/views/repasse/LancamentoExtra.vue?0f6c","webpack:///./src/views/repasse/LancamentoExtra.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-md","row","wrap","md12","color","title","staticClass","on-change-rede","onChangeRede","on-change-empresa","onChangeEmpresa","loja-selecionada","lojaSelecionada","model","value","callback","$$v","filtros","expression","flat","_v","inset","vertical","small","fab","on","click","$event","openDialogNew","active","loading","indeterminate","height","headers","items","hide-actions","scopedSlots","_u","key","fn","ref","item","_s","nomeLoja","tipoLancamento","_f","data","valor","toLocaleString","minimumFractionDigits","historico","downloadAnexo","_e","openDialogDelete","justify-center","max-width","dialogNew","novalidate","enctype","submit","preventDefault","validateBeforeSubmit","label","readonly","newItem","$set","directives","name","rawName","tipos","error-messages","errors","collect","data-vv-name","item-value","item-text","type","prefix","staticStyle","cursor","for","formData","get","display","id","change","anexar","outline","closeDialogNew","show","dialogDelete","closeDialogDelete","deleteItem","staticRenderFns","LancamentoExtravue_type_script_lang_js_","metaInfo","titleTemplate","money","constants","lojaId","file","tipoId","selected","redeId","empresaId","search","sortable","text","totalItems","beforeMount","_this","business","tiposLancamentoRepasse","then","response","mounted","reload","methods","_this2","$validator","validate","result","salvar","msg","$root","showSucesso","uploadDocumento","catch","showErro","finally","pesquisar","erro","showAlerta","$vuetify","t","event","target","files","length","FormData","append","rede","clear","empresa","loja","descricao","_this3","findAll","error","_this4","delete","repasse_LancamentoExtravue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/5f26.3847d8e8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('material-card',{attrs:{\"color\":\"primary\",\"title\":\"Lançamento Extra\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-text',[_c('v-form',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('core-filtro-rede-empresa-loja',{attrs:{\"on-change-rede\":_vm.onChangeRede,\"on-change-empresa\":_vm.onChangeEmpresa,\"loja-selecionada\":_vm.lojaSelecionada},model:{value:(_vm.filtros),callback:function ($$v) {_vm.filtros=$$v},expression:\"filtros\"}})],1)],1)],1)],1)],1)],1)],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[(_vm.filtros.lojaId)?_c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\"Lançamentos de Repasse Digitados (Não Processados)\")]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"fab\":\"\",\"color\":\"primary\"}},[_c('v-icon',{on:{\"click\":function($event){_vm.openDialogNew()}}},[_vm._v(\"mdi-plus\")])],1)],1),_c('v-progress-linear',{attrs:{\"active\":_vm.loading,\"color\":\"light-blue\",\"indeterminate\":\"\",\"height\":\"3\"}}),_c('v-data-table',{staticClass:\"elevation-1 arrow-pagintion\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',[_vm._v(_vm._s(item.nomeLoja))]),_c('td',[_vm._v(_vm._s(item.tipoLancamento))]),_c('td',[_vm._v(_vm._s(_vm._f(\"moment\")(item.data,\"DD/MM/YYYY\")))]),_c('td',[_vm._v(_vm._s(item.valor.toLocaleString(\"pt-BR\", { minimumFractionDigits: 2 })))]),_c('td',[_vm._v(_vm._s(item.historico))]),_c('td',{staticClass:\"justify-end layout mr-2\"},[(item.temAnexo)?_c('v-icon',{staticClass:\"mr-2\",attrs:{\"title\":\"Baixar Anexo\"},on:{\"click\":function($event){_vm.downloadAnexo(item)}}},[_vm._v(\"mdi-cloud-download-outline\")]):_vm._e(),_c('v-icon',{attrs:{\"color\":\"red\",\"title\":\"Excluir o lançamento\"},on:{\"click\":function($event){_vm.openDialogDelete(item)}}},[_vm._v(\"mdi-delete\")])],1)]}}])})],1):_vm._e()],1),(_vm.dialogNew)?[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[(!_vm.loading)?_c('v-dialog',{attrs:{\"max-width\":\"390\"},model:{value:(_vm.dialogNew),callback:function ($$v) {_vm.dialogNew=$$v},expression:\"dialogNew\"}},[_c('v-card',[_c('v-form',{attrs:{\"novalidate\":\"\",\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateBeforeSubmit($event)}}},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Incluir Lançamento\")]),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Loja\",\"readonly\":\"\"},model:{value:(_vm.newItem.nomeLoja),callback:function ($$v) {_vm.$set(_vm.newItem, \"nomeLoja\", $$v)},expression:\"newItem.nomeLoja\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"items\":_vm.tipos,\"error-messages\":_vm.errors.collect('Tipos'),\"data-vv-name\":\"Tipos\",\"item-value\":\"id\",\"item-text\":\"descricao\",\"label\":\"Tipo\"},model:{value:(_vm.newItem.tipoId),callback:function ($$v) {_vm.$set(_vm.newItem, \"tipoId\", $$v)},expression:\"newItem.tipoId\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"error-messages\":_vm.errors.collect('Data'),\"data-vv-name\":\"Data\",\"type\":\"date\",\"label\":\"Data\"},model:{value:(_vm.newItem.data),callback:function ($$v) {_vm.$set(_vm.newItem, \"data\", $$v)},expression:\"newItem.data\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"formata-moeda\",rawName:\"v-formata-moeda\",value:(_vm.newItem.valor),expression:\"newItem.valor\"},{name:\"money\",rawName:\"v-money\",value:(_vm.money),expression:\"money\"}],attrs:{\"error-messages\":_vm.errors.collect('Valor'),\"data-vv-name\":\"Valor\",\"type\":\"tel\",\"prefix\":\"R$\",\"label\":\"Valor\"},model:{value:(_vm.newItem.valor),callback:function ($$v) {_vm.$set(_vm.newItem, \"valor\", $$v)},expression:\"newItem.valor\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-textarea',{attrs:{\"label\":\"Histórico (opcional)\"},model:{value:(_vm.newItem.historico),callback:function ($$v) {_vm.$set(_vm.newItem, \"historico\", $$v)},expression:\"newItem.historico\"}})],1),_c('v-flex',{staticClass:\"text-md-right\",attrs:{\"md12\":\"\"}},[_c('label',{staticClass:\"caption\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"for\":\"anexar\",\"title\":\"Anexar Comprovante\"}},[_vm._v(\"\\n                      \"+_vm._s(_vm.formData ? _vm.formData.get('name') : 'Anexar Comprovante')+\"\\n                      \"),_c('v-icon',{attrs:{\"color\":\"dark\",\"for\":\"anexar\"}},[_vm._v(\"mdi-paperclip\")]),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"anexar\",\"type\":\"file\"},on:{\"change\":function($event){_vm.anexar($event)}}})],1)])],1)],1),_c('v-card-actions',[_c('v-btn',{staticStyle:{\"color\":\"black !important\"},attrs:{\"outline\":\"\"},on:{\"click\":_vm.closeDialogNew}},[_vm._v(\"Cancelar\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Salvar\")])],1)],1)],1)],1):_vm._e(),_c('core-progress-modal',{attrs:{\"show\":_vm.loading}})],1)]:_vm._e(),[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"390\"},model:{value:(_vm.dialogDelete),callback:function ($$v) {_vm.dialogDelete=$$v},expression:\"dialogDelete\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Excluir Lançamento\")]),_c('v-card-text',[_vm._v(\"Confirma a exclusão do lançamento, essa operação não poderá ser desfeita?\")]),_c('v-card-actions',[_c('v-btn',{staticStyle:{\"color\":\"black !important\"},attrs:{\"outline\":\"\"},on:{\"click\":_vm.closeDialogDelete}},[_vm._v(\"Cancelar\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\"Excluir\")])],1)],1)],1)],1)]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fluid\r\n    grid-list-md>\r\n    <v-layout\r\n      row\r\n      wrap>\r\n      <v-flex md12>\r\n        <material-card\r\n          color=\"primary\"\r\n          title=\"Lançamento Extra\">\r\n          <v-card class=\"elevation-0\">\r\n            <v-card-text>\r\n              <v-form>\r\n                <v-layout\r\n                  row\r\n                  wrap>\r\n                  <v-flex md12>\r\n                    <core-filtro-rede-empresa-loja\r\n                      v-model=\"filtros\"\r\n                      :on-change-rede=\"onChangeRede\"\r\n                      :on-change-empresa=\"onChangeEmpresa\"\r\n                      :loja-selecionada=\"lojaSelecionada\"\r\n                    />\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-form>\r\n            </v-card-text>\r\n          </v-card>\r\n        </material-card>\r\n      </v-flex>\r\n      <v-flex md12>\r\n        <v-card\r\n          v-if=\"filtros.lojaId\"\r\n        >\r\n          <v-toolbar\r\n            flat\r\n            color=\"white\">\r\n            <v-toolbar-title>Lançamentos de Repasse Digitados (Não Processados)</v-toolbar-title>\r\n            <v-divider\r\n              class=\"mx-2\"\r\n              inset\r\n              vertical />\r\n            <v-spacer />\r\n            <v-btn\r\n              small\r\n              fab\r\n              color=\"primary\">\r\n              <v-icon @click=\"openDialogNew()\">mdi-plus</v-icon>\r\n            </v-btn>\r\n          </v-toolbar>\r\n          <v-progress-linear\r\n            :active=\"loading\"\r\n            color=\"light-blue\"\r\n            indeterminate\r\n            height=\"3\"\r\n          />\r\n          <v-data-table\r\n            :headers=\"headers\"\r\n            :items=\"items\"\r\n            class=\"elevation-1 arrow-pagintion\"\r\n            hide-actions\r\n          >\r\n            <template\r\n              slot=\"items\"\r\n              slot-scope=\"{ item }\"\r\n              ma-5>\r\n              <td>{{ item.nomeLoja }}</td>\r\n              <td>{{ item.tipoLancamento }}</td>\r\n              <td>{{ item.data | moment(\"DD/MM/YYYY\") }}</td>\r\n              <td>{{ item.valor.toLocaleString(\"pt-BR\", { minimumFractionDigits: 2 }) }}</td>\r\n              <td>{{ item.historico }}</td>\r\n              <td class=\"justify-end layout mr-2\">\r\n                <v-icon\r\n                  v-if=\"item.temAnexo\"\r\n                  class=\"mr-2\"\r\n                  title=\"Baixar Anexo\"\r\n                  @click=\"downloadAnexo(item)\"\r\n                >mdi-cloud-download-outline</v-icon>\r\n                <v-icon\r\n                  color=\"red\"\r\n                  title=\"Excluir o lançamento\"\r\n                  @click=\"openDialogDelete(item)\"\r\n                >mdi-delete</v-icon>\r\n              </td>\r\n            </template>\r\n          </v-data-table>\r\n        </v-card>\r\n      </v-flex>\r\n      <template\r\n        v-if=\"dialogNew\">\r\n        <v-layout\r\n          row\r\n          justify-center>\r\n          <v-dialog\r\n            v-if=\"!loading\"\r\n            v-model=\"dialogNew\"\r\n            max-width=\"390\">\r\n            <v-card>\r\n              <v-form\r\n                novalidate\r\n                enctype=\"multipart/form-data\"\r\n                @submit.prevent=\"validateBeforeSubmit\">\r\n                <v-card-title class=\"headline\">Incluir Lançamento</v-card-title>\r\n\r\n                <v-card-text>\r\n                  <v-layout\r\n                    row\r\n                    wrap>\r\n                    <v-flex md12>\r\n                      <v-text-field\r\n                        v-model=\"newItem.nomeLoja\"\r\n                        label=\"Loja\"\r\n                        readonly\r\n                      />\r\n                    </v-flex>\r\n                    <v-flex md12>\r\n                      <v-autocomplete\r\n                        v-validate=\"'required'\"\r\n                        v-model=\"newItem.tipoId\"\r\n                        :items=\"tipos\"\r\n                        :error-messages=\"errors.collect('Tipos')\"\r\n                        data-vv-name=\"Tipos\"\r\n                        item-value=\"id\"\r\n                        item-text=\"descricao\"\r\n                        label=\"Tipo\"\r\n                      />\r\n                    </v-flex>\r\n                    <v-flex md12>\r\n                      <v-text-field\r\n                        v-validate=\"'required'\"\r\n                        v-model=\"newItem.data\"\r\n                        :error-messages=\"errors.collect('Data')\"\r\n                        data-vv-name=\"Data\"\r\n                        type=\"date\"\r\n                        label=\"Data\"\r\n                      />\r\n                    </v-flex>\r\n                    <v-flex md12>\r\n                      <v-text-field\r\n                        v-validate=\"'required'\"\r\n                        v-formata-moeda=\"newItem.valor\"\r\n                        v-money=\"money\"\r\n                        v-model.lazy=\"newItem.valor\"\r\n                        :error-messages=\"errors.collect('Valor')\"\r\n                        data-vv-name=\"Valor\"\r\n                        type=\"tel\"\r\n                        prefix=\"R$\"\r\n                        label=\"Valor\"\r\n                      />\r\n                    </v-flex>\r\n                    <v-flex md12>\r\n                      <v-textarea\r\n                        v-model.lazy=\"newItem.historico\"\r\n                        label=\"Histórico (opcional)\"\r\n                      />\r\n                    </v-flex>\r\n                    <v-flex\r\n                      class=\"text-md-right\"\r\n                      md12\r\n                    >\r\n                      <label\r\n                        for=\"anexar\"\r\n                        style=\"cursor: pointer\"\r\n                        class=\"caption\"\r\n                        title=\"Anexar Comprovante\">\r\n                        {{ formData ? formData.get('name') : 'Anexar Comprovante' }}\r\n                        <v-icon\r\n                          color=\"dark\"\r\n                          for=\"anexar\"\r\n                        >mdi-paperclip</v-icon>\r\n                        <input\r\n                          id=\"anexar\"\r\n                          style=\"display: none\"\r\n                          type=\"file\"\r\n                          @change=\"anexar($event)\"\r\n                        >\r\n                      </label>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                  <v-btn\r\n                    outline\r\n                    style=\"color: black !important\"\r\n                    @click=\"closeDialogNew\">Cancelar</v-btn>\r\n\r\n                  <v-spacer/>\r\n                  <v-btn\r\n                    color=\"primary\"\r\n                    type=\"submit\"\r\n                  >Salvar</v-btn>\r\n                </v-card-actions>\r\n              </v-form>\r\n            </v-card>\r\n          </v-dialog>\r\n          <core-progress-modal\r\n            :show=\"loading\" />\r\n        </v-layout>\r\n      </template>\r\n      <template>\r\n        <v-layout\r\n          row\r\n          justify-center>\r\n          <v-dialog\r\n            v-model=\"dialogDelete\"\r\n            max-width=\"390\">\r\n            <v-card>\r\n              <v-card-title class=\"headline\">Excluir Lançamento</v-card-title>\r\n\r\n              <v-card-text>Confirma a exclusão do lançamento, essa operação não poderá ser desfeita?</v-card-text>\r\n\r\n              <v-card-actions>\r\n                <v-btn\r\n                  outline\r\n                  style=\"color: black !important\"\r\n                  @click=\"closeDialogDelete\">Cancelar</v-btn>\r\n\r\n                <v-spacer/>\r\n\r\n                <v-btn\r\n                  color=\"red\"\r\n                  @click=\"deleteItem\">Excluir</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n        </v-layout>\r\n      </template>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { MONEY } from '../../constants'\r\nimport { LancamentoExtraBusiness, TiposBusiness } from '../../business'\r\nexport default {\r\n  metaInfo: {\r\n    titleTemplate: '%s - Lançamento Extra'\r\n  },\r\n  data () {\r\n    return {\r\n      money: MONEY,\r\n      dialogNew: false,\r\n      dialogDelete: false,\r\n      newItem: {\r\n        nomeLoja: null,\r\n        lojaId: null,\r\n        valor: 0,\r\n        file: null,\r\n        tipoId: null\r\n      },\r\n      item: null,\r\n      selected: [],\r\n      filtros: {\r\n        redeId: null,\r\n        empresaId: null,\r\n        lojaId: null\r\n      },\r\n      tipos: [],\r\n      search: '',\r\n      headers: [\r\n        {\r\n          sortable: false,\r\n          text: 'Loja',\r\n          value: 'nomeLoja'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Tipo',\r\n          value: 'tipo'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Data',\r\n          value: 'data'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Valor',\r\n          value: 'valor'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Histórico',\r\n          value: 'historico'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: ''\r\n        }\r\n      ],\r\n      items: [],\r\n      totalItems: null,\r\n      loading: false,\r\n      file: {},\r\n      formData: null\r\n    }\r\n  },\r\n  beforeMount () {\r\n    TiposBusiness.tiposLancamentoRepasse()\r\n      .then(response => {\r\n        this.tipos = response.data\r\n      })\r\n  },\r\n  mounted () {\r\n    this.reload()\r\n  },\r\n  methods: {\r\n    validateBeforeSubmit () {\r\n      this.$validator.validate().then(result => {\r\n        if (result) {\r\n          this.loading = true\r\n          LancamentoExtraBusiness.salvar(this.newItem)\r\n            .then(response => {\r\n              let msg = 'Cadastro realizado com sucesso'\r\n              this.$root.showSucesso(msg)\r\n              this.loading = false\r\n              this.closeDialogNew()\r\n              if (this.formData) {\r\n                LancamentoExtraBusiness.uploadDocumento(response.data.id, this.formData)\r\n                  .catch(() => this.$root.showErro('O Repasse foi feito, mas deu erro ao enviar o comprovante de anexo, entrar em contato com o suporte'))\r\n                  .finally(() => {\r\n                    this.pesquisar()\r\n                  })\r\n              } else {\r\n                this.pesquisar()\r\n              }\r\n            })\r\n            .catch(erro => {\r\n              this.$root.showErro(erro.data)\r\n              this.loading = false\r\n            })\r\n        } else {\r\n          this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n        }\r\n      })\r\n    },\r\n    anexar (event) {\r\n      if (event && event.target && event.target.files.length > 0) {\r\n        this.file = event.target.files[0]\r\n        this.formData = new FormData()\r\n        this.formData.append('file', this.file)\r\n        this.formData.append('name', this.file.name)\r\n      }\r\n    },\r\n    downloadAnexo (item) {\r\n      LancamentoExtraBusiness.downloadAnexo(item.id)\r\n    },\r\n    reload () {\r\n    },\r\n    onChangeRede (rede) {\r\n      this.clear()\r\n    },\r\n    onChangeEmpresa (empresa) {\r\n      this.clear()\r\n    },\r\n    lojaSelecionada (loja) {\r\n      this.filtros.lojaId = loja.id\r\n      this.newItem.lojaId = loja.id\r\n      this.newItem.nomeLoja = loja.descricao\r\n      this.pesquisar()\r\n    },\r\n    clear () {\r\n      this.items = []\r\n      this.filtros.lojaId = null\r\n    },\r\n    openDialogNew () {\r\n      this.dialogNew = true\r\n    },\r\n    closeDialogNew () {\r\n      this.dialogNew = false\r\n      this.newItem.valor = 0\r\n      this.newItem.file = null\r\n      this.newItem.historico = null\r\n      this.newItem.data = null\r\n    },\r\n    pesquisar () {\r\n      this.loading = true\r\n      LancamentoExtraBusiness.findAll(this.filtros.lojaId)\r\n        .then(response => { this.items = response.data })\r\n        .catch(error => this.$root.showErro(error.data))\r\n        .finally(() => { this.loading = false })\r\n    },\r\n    openDialogDelete (item) {\r\n      this.item = item\r\n      this.dialogDelete = true\r\n    },\r\n    closeDialogDelete () {\r\n      this.item = null\r\n      this.dialogDelete = false\r\n    },\r\n    deleteItem () {\r\n      this.loading = true\r\n      LancamentoExtraBusiness.delete(this.item.id)\r\n        .then(response => {\r\n          this.$root.showSucesso(response.data)\r\n          this.pesquisar()\r\n          this.closeDialogDelete()\r\n        })\r\n        .catch(error => {\r\n          this.$root.showErro(error.data)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LancamentoExtra.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LancamentoExtra.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LancamentoExtra.vue?vue&type=template&id=13d3732e&\"\nimport script from \"./LancamentoExtra.vue?vue&type=script&lang=js&\"\nexport * from \"./LancamentoExtra.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}