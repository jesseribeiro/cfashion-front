{"version":3,"sources":["webpack:///./src/views/relatorios/RelRepassePrevisaoPagamento.vue?4359","webpack:///src/views/relatorios/RelRepassePrevisaoPagamento.vue","webpack:///./src/views/relatorios/RelRepassePrevisaoPagamento.vue?29ec","webpack:///./src/views/relatorios/RelRepassePrevisaoPagamento.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-md","ref","on","submit","$event","preventDefault","validateBeforeSubmit","row","wrap","md12","staticClass","show-todas","obrigatorio","model","value","callback","$$v","filtros","expression","md3","label","type","$set","items","tiposAnalise","item-value","item-text","tiposRel","tiposLancamento","loading","loadingBtn","color","_v","show","id","src","filePDF","width","height","name","_e","staticRenderFns","RelRepassePrevisaoPagamentovue_type_script_lang_js_","metaInfo","titleTemplate","data","redeId","empresaId","lojaId","tipo","tipoRel","vencimentoAte","tpRepasse","tpAnalise","tipoLancamentoId","listarContas","listarSaldos","listarLancamentos","tiposRepasse","descricao","ordenacao","tipos","beforeMount","_this","push","business","getAllTiposRelatorio","then","response","listRepasse","tiposLancamentoRepasse","concat","$root","isProprietario","methods","_this2","$validator","validate","result","geraRelatorioPrevisaoPagamento","window","URL","createObjectURL","url","Blob","link","document","createElement","href","setAttribute","headers","split","body","appendChild","click","catch","erro","showErro","$vuetify","t","finally","showAlerta","relatorios_RelRepassePrevisaoPagamentovue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/a574.e91ea2ce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form2\",on:{\"submit\":function($event){$event.preventDefault();return _vm.validateBeforeSubmit($event)}}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('core-filtro-rede-empresa-loja',{attrs:{\"show-todas\":true,\"obrigatorio\":false},model:{value:(_vm.filtros),callback:function ($$v) {_vm.filtros=$$v},expression:\"filtros\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Vencimento até\",\"type\":\"date\"},model:{value:(_vm.filtros.vencimentoAte),callback:function ($$v) {_vm.$set(_vm.filtros, \"vencimentoAte\", $$v)},expression:\"filtros.vencimentoAte\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.tiposAnalise,\"label\":\"Tipo\",\"item-value\":\"id\",\"item-text\":\"descricao\"},model:{value:(_vm.filtros.tpAnalise),callback:function ($$v) {_vm.$set(_vm.filtros, \"tpAnalise\", $$v)},expression:\"filtros.tpAnalise\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.tiposRel,\"label\":\"Relatório em\",\"item-value\":\"id\",\"item-text\":\"descricao\"},model:{value:(_vm.filtros.tipoRel),callback:function ($$v) {_vm.$set(_vm.filtros, \"tipoRel\", $$v)},expression:\"filtros.tipoRel\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.tiposLancamento,\"label\":\"Tipo Lançamento Extra\",\"item-value\":\"id\",\"item-text\":\"descricao\"},model:{value:(_vm.filtros.tipoLancamentoId),callback:function ($$v) {_vm.$set(_vm.filtros, \"tipoLancamentoId\", $$v)},expression:\"filtros.tipoLancamentoId\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Listar contas bancárias\"},model:{value:(_vm.filtros.listarContas),callback:function ($$v) {_vm.$set(_vm.filtros, \"listarContas\", $$v)},expression:\"filtros.listarContas\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Listar saldos credores\"},model:{value:(_vm.filtros.listarSaldos),callback:function ($$v) {_vm.$set(_vm.filtros, \"listarSaldos\", $$v)},expression:\"filtros.listarSaldos\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Listar lançamentos\"},model:{value:(_vm.filtros.listarLancamentos),callback:function ($$v) {_vm.$set(_vm.filtros, \"listarLancamentos\", $$v)},expression:\"filtros.listarLancamentos\"}})],1)],1)],1)],1)],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-layout',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"loading\":_vm.loadingBtn,\"type\":\"submit\",\"color\":\"primary\"}},[_vm._v(\"Gerar\")])],1)],1),_c('core-progress-modal',{attrs:{\"show\":_vm.loading}}),(_vm.filePDF)?_c('embed',{attrs:{\"id\":\"plugin\",\"src\":_vm.filePDF,\"width\":\"100%\",\"height\":\"1000px\",\"name\":\"plugin\",\"type\":\"application/pdf\"}}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fluid\r\n    grid-list-md>\r\n    <v-form\r\n      ref=\"form2\"\r\n      @submit.prevent=\"validateBeforeSubmit\">\r\n      <v-layout\r\n        row\r\n        wrap>\r\n        <v-flex md12>\r\n          <v-card class=\"elevation-0\">\r\n            <v-card-text>\r\n              <v-layout\r\n                row\r\n                wrap>\r\n                <v-flex md12>\r\n                  <core-filtro-rede-empresa-loja\r\n                    v-model=\"filtros\"\r\n                    :show-todas=\"true\"\r\n                    :obrigatorio=\"false\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex md3>\r\n                  <v-text-field\r\n                    v-model=\"filtros.vencimentoAte\"\r\n                    label=\"Vencimento até\"\r\n                    type=\"date\"\r\n                  />\r\n                </v-flex>\r\n                <!--\r\n                <v-flex md4>\r\n                  <v-autocomplete\r\n                    v-validate=\"'required'\"\r\n                    v-model=\"filtros.tpRepasse\"\r\n                    :items=\"tiposRepasse\"\r\n                    :error-messages=\"errors.collect('Tipo de Repasse')\"\r\n                    data-vv-name=\"Tipo de Repasse\"\r\n                    label=\"Tipo de Repasse\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                -->\r\n                <v-flex md3>\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.tpAnalise\"\r\n                    :items=\"tiposAnalise\"\r\n                    label=\"Tipo\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                <!--\r\n                <v-flex md2>\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.sort\"\r\n                    :items=\"ordenacao\"\r\n                    label=\"Ordenação\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                -->\r\n                <v-flex md3>\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.tipoRel\"\r\n                    :items=\"tiposRel\"\r\n                    label=\"Relatório em\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex md3>\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.tipoLancamentoId\"\r\n                    :items=\"tiposLancamento\"\r\n                    label=\"Tipo Lançamento Extra\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex md3>\r\n                  <v-checkbox\r\n                    v-model=\"filtros.listarContas\"\r\n                    label=\"Listar contas bancárias\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex md3>\r\n                  <v-checkbox\r\n                    v-model=\"filtros.listarSaldos\"\r\n                    label=\"Listar saldos credores\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex md3>\r\n                  <v-checkbox\r\n                    v-model=\"filtros.listarLancamentos\"\r\n                    label=\"Listar lançamentos\"\r\n                  />\r\n                </v-flex>\r\n              </v-layout>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-flex>\r\n        <v-flex md12>\r\n          <v-layout class=\"justify-end\">\r\n            <v-btn\r\n              :loading=\"loadingBtn\"\r\n              type=\"submit\"\r\n              color=\"primary\">Gerar</v-btn>\r\n          </v-layout>\r\n        </v-flex>\r\n\r\n        <core-progress-modal :show=\"loading\" />\r\n\r\n        <embed\r\n          v-if=\"filePDF\"\r\n          id=\"plugin\"\r\n          :src=\"filePDF\"\r\n          width=\"100%\"\r\n          height=\"1000px\"\r\n          name=\"plugin\"\r\n          type=\"application/pdf\">\r\n      </v-layout>\r\n    </v-form>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { TiposBusiness, RelatorioBusiness } from '../../business'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    titleTemplate: '%s - Relatório'\r\n  },\r\n  data () {\r\n    return {\r\n      filtros: {\r\n        redeId: null,\r\n        empresaId: null,\r\n        lojaId: null,\r\n        tipo: null,\r\n        tipoRel: 'PDF',\r\n        vencimentoAte: null,\r\n        tpRepasse: null,\r\n        tpAnalise: 'A',\r\n        tipoLancamentoId: null,\r\n        listarContas: false,\r\n        listarSaldos: false,\r\n        listarLancamentos: false\r\n      },\r\n      tiposRepasse: [],\r\n      tiposLancamento: [],\r\n      tiposAnalise: [\r\n        { id: 'S', descricao: 'Sintético' },\r\n        { id: 'A', descricao: 'Analítico' }\r\n      ],\r\n      ordenacao: [\r\n        { id: 'razaoSocial', descricao: 'Razão Social' },\r\n        { id: 'nomeFantasia', descricao: 'Nome Fantasia' },\r\n        { id: 'banco', descricao: 'Banco' }\r\n      ],\r\n      filePDF: null,\r\n      tiposRel: [],\r\n      tipos: [],\r\n      loadingBtn: false,\r\n      loading: false\r\n    }\r\n  },\r\n  beforeMount () {\r\n    this.tiposLancamento.push({ id: null, descricao: 'Todos Lançamentos' })\r\n    TiposBusiness.getAllTiposRelatorio()\r\n      .then(response => {\r\n        this.tiposRel = response.data\r\n      })\r\n    TiposBusiness.listRepasse()\r\n      .then(response => {\r\n        this.tiposRepasse = response.data\r\n      })\r\n    TiposBusiness.tiposLancamentoRepasse()\r\n      .then(response => {\r\n        this.tiposLancamento = this.tiposLancamento.concat(response.data)\r\n      })\r\n    if (this.$root.isProprietario()) {\r\n      this.filtros.empresaId = this.$root.empresaId()\r\n    }\r\n  },\r\n  methods: {\r\n    validateBeforeSubmit () {\r\n      this.$validator.validate().then(result => {\r\n        if (result) {\r\n          this.loading = true\r\n          this.loadingBtn = true\r\n          RelatorioBusiness.geraRelatorioPrevisaoPagamento(this.filtros)\r\n            .then(response => {\r\n              if (this.filtros.tipoRel === 'PDF') {\r\n                this.filePDF = window.URL.createObjectURL(response.data)\r\n              } else {\r\n                const url = window.URL.createObjectURL(new Blob([response.data]))\r\n                const link = document.createElement('a')\r\n                link.href = url\r\n                link.setAttribute('download', response.headers['content-disposition'].split(';')[1].split('=')[1])\r\n                document.body.appendChild(link)\r\n                link.click()\r\n              }\r\n            })\r\n            .catch(erro => this.$root.showErro(this.$vuetify.t('$vuetify.Erro.carregarRelatorio')))\r\n            .finally(() => {\r\n              this.loading = false\r\n              this.loadingBtn = false\r\n            })\r\n        } else {\r\n          this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelRepassePrevisaoPagamento.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RelRepassePrevisaoPagamento.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RelRepassePrevisaoPagamento.vue?vue&type=template&id=071ec7fb&\"\nimport script from \"./RelRepassePrevisaoPagamento.vue?vue&type=script&lang=js&\"\nexport * from \"./RelRepassePrevisaoPagamento.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}