(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["21fb"],{"21fb":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-form",{ref:"form2",on:{submit:function(e){return e.preventDefault(),t.validateBeforeSubmit(e)}}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-title",{staticClass:"headline"},[t._v("\n            Fila de Cobrança\n          ")]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("core-filtro-rede-empresa-loja",{attrs:{"show-todas":!0,obrigatorio:!1},model:{value:t.filtros,callback:function(e){t.filtros=e},expression:"filtros"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-text-field",{attrs:{label:"Atraso De",type:"number",reverse:""},model:{value:t.filtros.atrasoDe,callback:function(e){t.$set(t.filtros,"atrasoDe",e)},expression:"filtros.atrasoDe"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-text-field",{attrs:{label:"Atraso Até",type:"number",reverse:""},model:{value:t.filtros.atrasoAte,callback:function(e){t.$set(t.filtros,"atrasoAte",e)},expression:"filtros.atrasoAte"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-text-field",{directives:[{name:"formata-moeda",rawName:"v-formata-moeda",value:t.filtros.saldoDevedor,expression:"filtros.saldoDevedor"},{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{label:"Saldo Devedor Até",type:"tel",suffix:"R$",reverse:"",hint:"0,00 é todas as faixas"},model:{value:t.filtros.saldoDevedor,callback:function(e){t.$set(t.filtros,"saldoDevedor",e)},expression:"filtros.saldoDevedor"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-autocomplete",{attrs:{items:t.clientesAcordo,label:"Clientes Acordo","item-value":"id","item-text":"descricao"},model:{value:t.filtros.clienteEmAcordo,callback:function(e){t.$set(t.filtros,"clienteEmAcordo",e)},expression:"filtros.clienteEmAcordo"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-autocomplete",{attrs:{items:t.faturas,label:"Prim. Fatura","item-value":"id","item-text":"descricao"},model:{value:t.filtros.fatura,callback:function(e){t.$set(t.filtros,"fatura",e)},expression:"filtros.fatura"}})],1),a("v-flex",{attrs:{md2:"",sm6:"",xs12:""}},[a("v-autocomplete",{attrs:{items:t.atrasoMes,label:"Atraso Mês","item-value":"id","item-text":"descricao"},model:{value:t.filtros.atrasoMes,callback:function(e){t.$set(t.filtros,"atrasoMes",e)},expression:"filtros.atrasoMes"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-checkbox",{attrs:{label:"Incluir os clientes que estão SERASA/SPC"},model:{value:t.filtros.incluirClienteSPC,callback:function(e){t.$set(t.filtros,"incluirClienteSPC",e)},expression:"filtros.incluirClienteSPC"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-checkbox",{attrs:{label:"Incluir agendamentos (lista primeiro os agendamentos do usuário independente do filtro escolhido)"},model:{value:t.filtros.incluirAgendamento,callback:function(e){t.$set(t.filtros,"incluirAgendamento",e)},expression:"filtros.incluirAgendamento"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-layout",{staticClass:"layout align-center ml-1",attrs:{row:""}},[a("v-label",[t._v("\n                    Colocar na fila de cobrança apenas os clientes sem pagamento ou com último pagamento até\n                  ")]),a("v-text-field",{staticClass:"text-field-custom ml-2",attrs:{type:"date"},model:{value:t.filtros.ultimoPagamento,callback:function(e){t.$set(t.filtros,"ultimoPagamento",e)},expression:"filtros.ultimoPagamento"}})],1)],1)],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-layout",{staticClass:"justify-end"},[a("v-btn",{attrs:{loading:t.loadingBtn,type:"submit",color:"primary"}},[t._v("Iniciar Cobrança")])],1)],1),a("core-progress-modal",{attrs:{show:t.loading}})],1)],1)],1)},r=[],s=a("3a86"),l=a("5a50"),i={props:{clientesAcordo:{type:Array,requided:!0},faturas:{type:Array,requided:!0},atrasoMes:{type:Array,requided:!0}},data:function(){return{money:l["i"],filtros:{redeId:l["k"],empresaId:l["k"],lojaId:l["k"],atrasoDe:null,atrasoAte:null,incluirAgendamento:!0,clienteEmAcordo:"",incluirClienteSPC:!1,fatura:"",atrasoMes:l["k"]},loadingBtn:!1,loading:!1}},beforeMount:function(){},methods:{validateBeforeSubmit:function(){var t=this;this.$validator.validate().then(function(e){e?(t.loading=!0,t.loadingBtn=!0,s["j"].iniciarCobranca(t.filtros).then(function(e){t.$root.addFilaCobranca(e.data),t.proximoCliente()}).catch(function(e){return t.$root.showErro(e.data)}).finally(function(){t.loading=!1,t.loadingBtn=!1})):t.$root.showAlerta(t.$vuetify.t("$vuetify.Erro.camposObrigatorios"))})},proximoCliente:function(){var t=this.$root.getProximoFilaCobranca();t?this.$router.push("/cliente-cobranca?payload="+JSON.stringify(t)):this.$root.showAlerta("Não encontrou clientes para cobrar, ajustes os filtros informados e tente novamente.")}}},n=i,c=a("2877"),d=Object(c["a"])(n,o,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=21fb.9a00070c.js.map