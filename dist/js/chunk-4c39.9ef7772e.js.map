{"version":3,"sources":["webpack:///./src/views/Login.vue?ac08","webpack:///./src/views/Login.vue?e7b0","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","fill-height","fluid","grid-list-xl","wrap","justify-center","align-center","novalidate","on","submit","$event","preventDefault","validateBeforeSubmit","align","src","height","width","directives","name","rawName","value","expression","error-messages","errors","collect","data-vv-name","label","prepend-icon","required","model","callback","$$v","username","type","showPassword","append-icon","click:append","password","loading","loadingBtn","color","_v","staticRenderFns","Loginvue_type_script_lang_js_","metaInfo","titleTemplate","data","methods","showErro","msg","alert","_this","$validator","validate","then","result","login","$root","showAlerta","$vuetify","t","_this2","self","LoginBusiness","response","localStorage","clear","token","setItem","constants","JWT","JSON","stringify","LOGIN","$router","push","addTokenHeader","getDadosUsuario","DADOS_USUARIO","finally","window","location","reload","catch","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-4c39.9ef7772e.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=5e94faa9&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"mb-5\",attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('div',{staticClass:\"card-login\"},[_c('v-form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateBeforeSubmit($event)}}},[_c('v-card',[_c('div',{staticClass:\"pt-3 mb-2\",attrs:{\"align\":\"center\"}},[_c('v-img',{attrs:{\"src\":\"/img/logo.png\",\"height\":\"80\",\"width\":\"255\"}})],1),_c('v-card-text',[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"lowercase\",attrs:{\"error-messages\":_vm.errors.collect('Usuário'),\"data-vv-name\":\"Usuário\",\"label\":\"Usuário\",\"prepend-icon\":\"mdi-account-circle\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"error-messages\":_vm.errors.collect('Senha'),\"type\":_vm.showPassword ? 'text' : 'password',\"append-icon\":_vm.showPassword ? 'mdi-eye': 'mdi-eye-off',\"data-vv-name\":\"Senha\",\"label\":\"Senha\",\"prepend-icon\":\"mdi-lock\",\"required\":\"\"},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"loading\":_vm.loadingBtn,\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Entrar\")])],1)],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fill-height\r\n    fluid\r\n    grid-list-xl\r\n    class=\"mb-5\">\r\n    <v-layout\r\n      wrap\r\n      justify-center\r\n      align-center>\r\n      <div class=\"card-login\">\r\n        <v-form\r\n          novalidate\r\n          @submit.prevent=\"validateBeforeSubmit\">\r\n          <v-card>\r\n            <div\r\n              align=\"center\"\r\n              class=\"pt-3 mb-2\">\r\n              <v-img\r\n                src=\"/img/logo.png\"\r\n                height=\"80\"\r\n                width=\"255\"/>\r\n            </div>\r\n            <v-card-text>\r\n              <v-text-field\r\n                v-validate=\"'required'\"\r\n                v-model=\"username\"\r\n                :error-messages=\"errors.collect('Usuário')\"\r\n                data-vv-name=\"Usuário\"\r\n                label=\"Usuário\"\r\n                prepend-icon=\"mdi-account-circle\"\r\n                class=\"lowercase\"\r\n                required\r\n              />\r\n              <v-text-field\r\n                v-validate=\"'required'\"\r\n                :error-messages=\"errors.collect('Senha')\"\r\n                :type=\"showPassword ? 'text' : 'password'\"\r\n                :append-icon=\"showPassword ? 'mdi-eye': 'mdi-eye-off'\"\r\n                v-model=\"password\"\r\n                data-vv-name=\"Senha\"\r\n                label=\"Senha\"\r\n                prepend-icon=\"mdi-lock\"\r\n                required\r\n                @click:append=\"showPassword = !showPassword\"\r\n              />\r\n            </v-card-text>\r\n            <v-divider />\r\n            <v-card-actions>\r\n              <v-spacer />\r\n              <v-btn\r\n                :loading=\"loadingBtn\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n              >Entrar</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-form>\r\n      </div>\r\n    </v-layout>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport LoginBusiness from '../business/LoginBusiness'\r\nimport { LOCALSTORAGE } from '../constants'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    titleTemplate: '%s - Entrar'\r\n  },\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      showPassword: false,\r\n      loadingBtn: false\r\n    }\r\n  },\r\n  methods: {\r\n    showErro (msg) {\r\n      alert(msg)\r\n    },\r\n    validateBeforeSubmit () {\r\n      this.$validator.validate()\r\n        .then(result => {\r\n          if (result) {\r\n            this.login()\r\n          } else {\r\n            this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n          }\r\n        })\r\n    },\r\n    login () {\r\n      const self = this\r\n      this.loadingBtn = true\r\n      LoginBusiness.login(this.username, this.password)\r\n        .then(response => {\r\n          localStorage.clear()\r\n          let token = response.data\r\n          let username = self.username\r\n          localStorage.setItem(LOCALSTORAGE.JWT, JSON.stringify(token))\r\n          localStorage.setItem(LOCALSTORAGE.LOGIN, username)\r\n          this.$router.push('/')\r\n\r\n          this.$root.addTokenHeader()\r\n        })\r\n        .then(() => {\r\n          LoginBusiness.getDadosUsuario(self.username)\r\n            .then(response => {\r\n              localStorage.setItem(LOCALSTORAGE.DADOS_USUARIO, JSON.stringify(response.data))\r\n            })\r\n            .finally(() => {\r\n              window.location.reload()\r\n            })\r\n        })\r\n        .catch(response => {\r\n          self.showErro('Usuário ou senha inválidos')\r\n          this.$router.push('/login')\r\n        })\r\n        .finally(() => {\r\n          this.loadingBtn = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container-login {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #f8f9fa;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /*style=\"background: #6C7A89\"*/\r\n}\r\n\r\n.card-login {\r\n  width: 400px;\r\n  height: 400px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=5e94faa9&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=5e94faa9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e94faa9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}