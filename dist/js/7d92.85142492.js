(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7d92"],{"7d92":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:"","grid-list-md":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md12:""}},[e("material-card",{attrs:{color:"primary",title:"Pesquisar Plano de Pagamento"}},[e("v-card",{staticClass:"elevation-0"},[e("v-card-text",[e("v-form",[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{md3:""}},[e("v-text-field",{attrs:{label:"Sigla"},model:{value:t.filtros.sigla,callback:function(a){t.$set(t.filtros,"sigla",a)},expression:"filtros.sigla"}})],1),e("v-flex",{attrs:{md3:""}},[e("v-text-field",{attrs:{label:"Descrição"},model:{value:t.filtros.descricao,callback:function(a){t.$set(t.filtros,"descricao",a)},expression:"filtros.descricao"}})],1),e("v-flex",{attrs:{md3:""}},[e("v-text-field",{attrs:{type:"number",min:"0",label:"Quantidade Parcelas",reverse:""},model:{value:t.filtros.qtdParcelas,callback:function(a){t.$set(t.filtros,"qtdParcelas",a)},expression:"filtros.qtdParcelas"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{loading:t.loadingBtn,color:"primary"},on:{click:t.pesquisar}},[t._v("Pesquisar")])],1)],1)],1)],1),e("v-flex",{attrs:{md12:""}},[e("v-card",[e("v-toolbar",{attrs:{flat:"",color:"white"}},[e("v-toolbar-title",[t._v("Planos de Pagamento")]),e("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e("v-spacer"),e("v-btn",{attrs:{small:"",fab:"",color:"primary"}},[e("v-icon",{on:{click:function(a){t.newItem()}}},[t._v("mdi-plus")])],1)],1),e("v-progress-linear",{attrs:{active:t.loading,color:"light-blue",indeterminate:"",height:"3"}}),e("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:t.headers,items:t.items,"total-items":t.totalItems,pagination:t.pagination},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"headerCell",fn:function(a){var i=a.header;return[e("span",{staticClass:"subheading font-weight-light text--darken-3",domProps:{textContent:t._s(i.text)}})]}},{key:"items",fn:function(a){var i=a.item;return[e("td",[t._v(t._s(i.sigla))]),e("td",[t._v(t._s(i.descricao))]),e("td",[t._v(t._s(i.qtdParcelas))]),i.valorMinimoParcela?e("td",[t._v(t._s(i.valorMinimoParcela.toLocaleString("pt-BR",{minimumFractionDigits:2})))]):e("td",[t._v(t._s("-"))]),i.dataCadastro?e("td",[t._v(t._s(t._f("moment")(i.dataCadastro,"DD/MM/YYYY")))]):e("td",[t._v(t._s("-"))]),i.dataExclusao?e("td",[t._v(t._s(t._f("moment")(i.dataExclusao,"DD/MM/YYYY")))]):e("td",[t._v(t._s("-"))]),e("td",{staticClass:"justify-end layout ma-2"},[i.dataExclusao?[e("v-icon",{staticClass:"mr-2",attrs:{title:"Visualizar Plano"},on:{click:function(a){t.visualizarItem(i)}}},[t._v("mdi-magnify")])]:[e("v-icon",{staticClass:"mr-2",attrs:{color:"blue",title:"Editar plano"},on:{click:function(a){t.editItem(i)}}},[t._v("mdi-pencil")]),e("v-icon",{attrs:{color:"red",title:"Excluir plano"},on:{click:function(a){t.openDialogDelete(i)}}},[t._v("mdi-delete")])]],2)]}}])})],1)],1),[e("v-layout",{attrs:{row:"","justify-center":""}},[e("v-dialog",{attrs:{"max-width":"390"},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Excluir Plano de Pagamento")]),e("v-card-text",[t._v("Confirma a exclusão desse plano, essa operação não poderá ser desfeita?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticStyle:{color:"black !important"},attrs:{outline:""},on:{click:t.closeDialogDelete}},[t._v("Cancelar")]),e("v-btn",{attrs:{color:"red"},on:{click:t.deleteItem}},[t._v("Excluir")])],1)],1)],1)],1)]],2)],1)},o=[],l=e("3a86"),s=e("5a50"),n={metaInfo:{titleTemplate:"%s - Planos de Pagamento"},data:function(){return{dialog:!1,item:null,loading:!1,loadingBtn:!1,totalItems:0,pagination:{pageNo:1,rowsPerPage:25,sortBy:"qtdParcelas",descending:!0},selected:[],filtros:{descricao:"",sigla:"",qtdParcelas:null},headers:[{text:"Sigla",value:"sigla"},{text:"Descrição",value:"descricao"},{text:"Max. Parcelas",value:"qtdParcelas"},{text:"Valor Mínimo Parcela",value:"valorMinimoParcela"},{text:"Cadastrado Em",value:"dataCadastro"},{text:"Cancelado Em",value:"dataExclusao"},{sortable:!1,text:""}],items:[]}},watch:{pagination:{handler:function(){this.paginar()}}},methods:{reload:function(){this.paginar()},newItem:function(){this.$router.push("cad-planopagamento")},editItem:function(t){this.$router.push("cad-planopagamento/".concat(t.id,"/").concat(s["b"]))},visualizarItem:function(t){this.$router.push("cad-planopagamento/".concat(t.id,"/").concat(s["e"]))},openDialogDelete:function(t){this.item=t,this.dialog=!0},closeDialogDelete:function(){this.item=null,this.dialog=!1},deleteItem:function(){var t=this;l["s"].delete(this.item.id).then(function(a){t.$root.showSucesso(a.data),t.closeDialogDelete(),t.reload()}).catch(function(a){t.$root.showErro(a.data),t.closeDialogDelete()})},pesquisar:function(){this.loadingBtn=!0,this.paginar()},paginar:function(){var t=this;this.loading=!0,l["s"].pagination(this.pagination,this.filtros).then(function(a){t.items=a.data.content,t.totalItems=a.data.totalElements}).finally(function(){t.loadingBtn=!1,t.loading=!1})}}},r=n,c=e("2877"),d=Object(c["a"])(r,i,o,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=7d92.85142492.js.map