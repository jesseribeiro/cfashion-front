{"version":3,"sources":["webpack:///./src/views/cobranca/MailingCobranca.vue?f8f5","webpack:///src/views/cobranca/MailingCobranca.vue","webpack:///./src/views/cobranca/MailingCobranca.vue?dc3f","webpack:///./src/views/cobranca/MailingCobranca.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-md","ref","on","submit","$event","preventDefault","validateBeforeSubmit","row","wrap","md12","staticClass","_v","show-todas","obrigatorio","model","value","callback","$$v","filtros","expression","md2","sm6","xs12","label","type","reverse","$set","directives","name","rawName","suffix","hint","md3","items","clientesAcordo","item-value","item-text","atrasoMes","md6","sm12","flat","color","inset","vertical","small","fab","click","novoContato","headers","headersContato","contatos","hide-actions","scopedSlots","_u","key","fn","item","_s","nome","email","title","editContato","deleteContato","loading","loadingBtn","geraMailingDownload","show","justify-center","max-width","dialogContato","lazy-validation","addContato","isValid","error-messages","errors","collect","data-vv-name","required","contatoMailing","disabled","_e","staticRenderFns","MailingCobrancavue_type_script_lang_js_","props","Array","requided","faturas","data","money","constants","redeId","empresaId","lojaId","atrasoDe","atrasoAte","incluirAgendamento","clienteEmAcordo","incluirClienteSPC","fatura","configId","sortable","align","text","width","beforeMount","_this","business","getConfigMailing","$root","usuarioId","then","response","finally","methods","_this2","$validator","validate","result","salvarConfigMailing","showSucesso","catch","erro","showErro","showAlerta","$vuetify","t","_this3","edit","push","cancelarContato","filter","a","_this4","geraRelatorioMailing","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","split","body","appendChild","cobranca_MailingCobrancavue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/a8e6.493044cd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form2\",on:{\"submit\":function($event){$event.preventDefault();return _vm.validateBeforeSubmit($event)}}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-title',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('span',{staticClass:\"headline\"},[_vm._v(\"\\n                  Configuração do Mailing Diário\\n                \")])]),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('span',{staticClass:\"body-1\"},[_vm._v(\"\\n                  Configure os filtros que serão utilizados para geração do mailing(todos os dias à meia noite) e\\n                  informe os endereços de e-mail que receberão esse mailing.\\n                \")])])],1)],1),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('core-filtro-rede-empresa-loja',{attrs:{\"show-todas\":true,\"obrigatorio\":false},model:{value:(_vm.filtros),callback:function ($$v) {_vm.filtros=$$v},expression:\"filtros\"}})],1),_c('v-flex',{attrs:{\"md2\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Atraso De\",\"type\":\"number\",\"reverse\":\"\"},model:{value:(_vm.filtros.atrasoDe),callback:function ($$v) {_vm.$set(_vm.filtros, \"atrasoDe\", $$v)},expression:\"filtros.atrasoDe\"}})],1),_c('v-flex',{attrs:{\"md2\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Atraso Até\",\"type\":\"number\",\"reverse\":\"\"},model:{value:(_vm.filtros.atrasoAte),callback:function ($$v) {_vm.$set(_vm.filtros, \"atrasoAte\", $$v)},expression:\"filtros.atrasoAte\"}})],1),_c('v-flex',{attrs:{\"md2\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-text-field',{directives:[{name:\"formata-moeda\",rawName:\"v-formata-moeda\",value:(_vm.filtros.saldoDevedor),expression:\"filtros.saldoDevedor\"},{name:\"money\",rawName:\"v-money\",value:(_vm.money),expression:\"money\"}],attrs:{\"label\":\"Saldo Devedor Até\",\"type\":\"tel\",\"suffix\":\"R$\",\"reverse\":\"\",\"hint\":\"0,00 é todas as faixas\"},model:{value:(_vm.filtros.saldoDevedor),callback:function ($$v) {_vm.$set(_vm.filtros, \"saldoDevedor\", $$v)},expression:\"filtros.saldoDevedor\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.clientesAcordo,\"label\":\"Clientes Acordo\",\"item-value\":\"id\",\"item-text\":\"descricao\"},model:{value:(_vm.filtros.clienteEmAcordo),callback:function ($$v) {_vm.$set(_vm.filtros, \"clienteEmAcordo\", $$v)},expression:\"filtros.clienteEmAcordo\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\",\"sm6\":\"\",\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.atrasoMes,\"label\":\"Atraso Mês\",\"item-value\":\"id\",\"item-text\":\"descricao\"},model:{value:(_vm.filtros.atrasoMes),callback:function ($$v) {_vm.$set(_vm.filtros, \"atrasoMes\", $$v)},expression:\"filtros.atrasoMes\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\",\"sm12\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Incluir os clientes que estão SERASA/SPC\"},model:{value:(_vm.filtros.incluirClienteSPC),callback:function ($$v) {_vm.$set(_vm.filtros, \"incluirClienteSPC\", $$v)},expression:\"filtros.incluirClienteSPC\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\",\"sm12\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Incluir agendamentos\"},model:{value:(_vm.filtros.incluirAgendamento),callback:function ($$v) {_vm.$set(_vm.filtros, \"incluirAgendamento\", $$v)},expression:\"filtros.incluirAgendamento\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\"Contatos que Receberão este Mailing por Email\")]),_c('v-divider',{staticClass:\"mx-2\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"fab\":\"\",\"color\":\"primary\"}},[_c('v-icon',{on:{\"click\":function($event){_vm.novoContato()}}},[_vm._v(\"mdi-plus\")])],1)],1),_c('v-card-text',[_c('v-data-table',{attrs:{\"headers\":_vm.headersContato,\"items\":_vm.filtros.contatos,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('tr',[_c('td',[_vm._v(_vm._s(item.nome))]),_c('td',[_vm._v(_vm._s(item.email))]),_c('td',{staticClass:\"justify-end layout ma-2\"},[_c('v-icon',{staticClass:\"mr-2\",attrs:{\"color\":\"blue\",\"title\":\"Alterar\"},on:{\"click\":function($event){_vm.editContato(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"color\":\"red\",\"title\":\"Excluir\"},on:{\"click\":function($event){_vm.deleteContato(item)}}},[_vm._v(\"mdi-delete\")])],1)])]}}])})],1)],1)],1)],1)],1)],1)],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-layout',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"loading\":_vm.loadingBtn,\"color\":\"secondary\",\"title\":\"Gera o Mailing sem salvar e sem enviar por e-mail\"},on:{\"click\":function($event){_vm.geraMailingDownload()}}},[_c('v-icon',[_vm._v(\"mdi-file-excel\")]),_vm._v(\"\\n            Gerar Mailing e Download\\n          \")],1),_c('v-btn',{attrs:{\"loading\":_vm.loadingBtn,\"type\":\"submit\",\"color\":\"primary\"}},[_vm._v(\"Salvar\")])],1)],1),_c('core-progress-modal',{attrs:{\"show\":_vm.loading}})],1)],1),(_vm.dialogContato)?[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"390\"},model:{value:(_vm.dialogContato),callback:function ($$v) {_vm.dialogContato=$$v},expression:\"dialogContato\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Novo Contato Mailing\")]),_c('v-card-text',[_c('v-form',{ref:\"formContato\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.addContato($event)}},model:{value:(_vm.isValid),callback:function ($$v) {_vm.isValid=$$v},expression:\"isValid\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"error-messages\":_vm.errors.collect('Nome'),\"label\":\"Nome\",\"data-vv-name\":\"Nome\",\"required\":\"\"},model:{value:(_vm.contatoMailing.nome),callback:function ($$v) {_vm.$set(_vm.contatoMailing, \"nome\", $$v)},expression:\"contatoMailing.nome\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"error-messages\":_vm.errors.collect('Email'),\"type\":\"email\",\"label\":\"Email\",\"data-vv-name\":\"Email\",\"required\":\"\"},model:{value:(_vm.contatoMailing.email),callback:function ($$v) {_vm.$set(_vm.contatoMailing, \"email\", $$v)},expression:\"contatoMailing.email\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-layout',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"disabled\":!_vm.isValid,\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Add\")])],1)],1)],1)],1)],1)],1)],1)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fluid\r\n    grid-list-md>\r\n    <v-form\r\n      ref=\"form2\"\r\n      @submit.prevent=\"validateBeforeSubmit\">\r\n      <v-layout\r\n        row\r\n        wrap>\r\n        <v-flex md12>\r\n          <v-card class=\"elevation-0\">\r\n            <v-card-title>\r\n              <v-layout\r\n                row\r\n                wrap\r\n              >\r\n                <v-flex md12>\r\n                  <span class=\"headline\">\r\n                    Configuração do Mailing Diário\r\n                  </span>\r\n                </v-flex>\r\n                <v-flex md12>\r\n                  <span class=\"body-1\">\r\n                    Configure os filtros que serão utilizados para geração do mailing(todos os dias à meia noite) e\r\n                    informe os endereços de e-mail que receberão esse mailing.\r\n                  </span>\r\n                </v-flex>\r\n              </v-layout>\r\n            </v-card-title>\r\n            <v-card-text>\r\n              <v-layout\r\n                row\r\n                wrap>\r\n                <v-flex md12>\r\n                  <core-filtro-rede-empresa-loja\r\n                    v-model=\"filtros\"\r\n                    :show-todas=\"true\"\r\n                    :obrigatorio=\"false\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md2\r\n                  sm6\r\n                  xs12\r\n                >\r\n                  <v-text-field\r\n                    v-model=\"filtros.atrasoDe\"\r\n                    label=\"Atraso De\"\r\n                    type=\"number\"\r\n                    reverse\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md2\r\n                  sm6\r\n                  xs12\r\n                >\r\n                  <v-text-field\r\n                    v-model=\"filtros.atrasoAte\"\r\n                    label=\"Atraso Até\"\r\n                    type=\"number\"\r\n                    reverse\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md2\r\n                  sm6\r\n                  xs12\r\n                >\r\n                  <v-text-field\r\n                    v-formata-moeda=\"filtros.saldoDevedor\"\r\n                    v-money=\"money\"\r\n                    v-model=\"filtros.saldoDevedor\"\r\n                    label=\"Saldo Devedor Até\"\r\n                    type=\"tel\"\r\n                    suffix=\"R$\"\r\n                    reverse\r\n                    hint=\"0,00 é todas as faixas\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md3\r\n                  sm6\r\n                  xs12\r\n                >\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.clienteEmAcordo\"\r\n                    :items=\"clientesAcordo\"\r\n                    label=\"Clientes Acordo\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md3\r\n                  sm6\r\n                  xs12\r\n                >\r\n                  <v-autocomplete\r\n                    v-model=\"filtros.atrasoMes\"\r\n                    :items=\"atrasoMes\"\r\n                    label=\"Atraso Mês\"\r\n                    item-value=\"id\"\r\n                    item-text=\"descricao\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md6\r\n                  sm12\r\n                >\r\n                  <v-checkbox\r\n                    v-model=\"filtros.incluirClienteSPC\"\r\n                    label=\"Incluir os clientes que estão SERASA/SPC\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md6\r\n                  sm12\r\n                >\r\n                  <v-checkbox\r\n                    v-model=\"filtros.incluirAgendamento\"\r\n                    label=\"Incluir agendamentos\"\r\n                  />\r\n                </v-flex>\r\n                <v-flex\r\n                  md12\r\n                >\r\n                  <v-card>\r\n                    <v-toolbar\r\n                      flat\r\n                      color=\"white\">\r\n                      <v-toolbar-title>Contatos que Receberão este Mailing por Email</v-toolbar-title>\r\n                      <v-divider\r\n                        class=\"mx-2\"\r\n                        inset\r\n                        vertical />\r\n                      <v-spacer />\r\n                      <v-btn\r\n                        small\r\n                        fab\r\n                        color=\"primary\">\r\n                        <v-icon @click=\"novoContato()\">mdi-plus</v-icon>\r\n                      </v-btn>\r\n                    </v-toolbar>\r\n                    <v-card-text>\r\n                      <v-data-table\r\n                        :headers=\"headersContato\"\r\n                        :items=\"filtros.contatos\"\r\n                        hide-actions\r\n                      >\r\n                        <template\r\n                          slot=\"items\"\r\n                          slot-scope=\"{ item }\"\r\n                        >\r\n                          <tr>\r\n                            <td>{{ item.nome }}</td>\r\n                            <td>{{ item.email }}</td>\r\n                            <td class=\"justify-end layout ma-2\">\r\n                              <v-icon\r\n                                class=\"mr-2\"\r\n                                color=\"blue\"\r\n                                title=\"Alterar\"\r\n                                @click=\"editContato(item)\"\r\n                              >mdi-pencil</v-icon>\r\n                              <v-icon\r\n                                color=\"red\"\r\n                                title=\"Excluir\"\r\n                                @click=\"deleteContato(item)\"\r\n                              >mdi-delete</v-icon>\r\n                            </td>\r\n                          </tr>\r\n                        </template>\r\n                      </v-data-table>\r\n                    </v-card-text>\r\n                  </v-card>\r\n                </v-flex>\r\n              </v-layout>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-flex>\r\n        <v-flex md12>\r\n          <v-layout class=\"justify-end\">\r\n            <v-btn\r\n              :loading=\"loadingBtn\"\r\n              color=\"secondary\"\r\n              title=\"Gera o Mailing sem salvar e sem enviar por e-mail\"\r\n              @click=\"geraMailingDownload()\"\r\n            >\r\n              <v-icon>mdi-file-excel</v-icon>\r\n              Gerar Mailing e Download\r\n            </v-btn>\r\n            <v-btn\r\n              :loading=\"loadingBtn\"\r\n              type=\"submit\"\r\n              color=\"primary\">Salvar</v-btn>\r\n          </v-layout>\r\n        </v-flex>\r\n\r\n        <core-progress-modal :show=\"loading\" />\r\n      </v-layout>\r\n    </v-form>\r\n    <template\r\n      v-if=\"dialogContato\"\r\n    >\r\n      <v-layout\r\n        row\r\n        justify-center>\r\n        <v-dialog\r\n          v-model=\"dialogContato\"\r\n          max-width=\"390\">\r\n          <v-card>\r\n            <v-card-title class=\"headline\">Novo Contato Mailing</v-card-title>\r\n            <v-card-text>\r\n              <v-form\r\n                ref=\"formContato\"\r\n                v-model=\"isValid\"\r\n                lazy-validation\r\n                @submit.prevent=\"addContato\">\r\n                <v-layout\r\n                  row\r\n                  wrap>\r\n                  <v-flex md12>\r\n                    <v-text-field\r\n                      v-validate=\"'required'\"\r\n                      v-model=\"contatoMailing.nome\"\r\n                      :error-messages=\"errors.collect('Nome')\"\r\n                      label=\"Nome\"\r\n                      data-vv-name=\"Nome\"\r\n                      required\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md12>\r\n                    <v-text-field\r\n                      v-validate=\"'required|email'\"\r\n                      v-model=\"contatoMailing.email\"\r\n                      :error-messages=\"errors.collect('Email')\"\r\n                      type=\"email\"\r\n                      label=\"Email\"\r\n                      data-vv-name=\"Email\"\r\n                      required\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md12>\r\n                    <v-layout class=\"justify-end\">\r\n                      <v-btn\r\n                        :disabled=\"!isValid\"\r\n                        color=\"primary\"\r\n                        type=\"submit\"\r\n                      >Add</v-btn>\r\n                    </v-layout>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-form>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-layout>\r\n    </template>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { CobrancaBusiness } from '../../business'\r\nimport { TODAS_ID, MONEY } from '../../constants'\r\n\r\nexport default {\r\n  props: {\r\n    // eslint-disable-next-line vue/require-default-prop\r\n    clientesAcordo: {\r\n      type: Array,\r\n      requided: true\r\n    },\r\n    // eslint-disable-next-line vue/require-default-prop\r\n    faturas: {\r\n      type: Array,\r\n      requided: true\r\n    },\r\n    // eslint-disable-next-line vue/require-default-prop\r\n    atrasoMes: {\r\n      type: Array,\r\n      requided: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      dialogContato: false,\r\n      isValid: false,\r\n      money: MONEY,\r\n      filtros: {\r\n        redeId: TODAS_ID,\r\n        empresaId: TODAS_ID,\r\n        lojaId: TODAS_ID,\r\n        atrasoDe: null,\r\n        atrasoAte: null,\r\n        incluirAgendamento: true,\r\n        clienteEmAcordo: '',\r\n        incluirClienteSPC: false,\r\n        fatura: '',\r\n        atrasoMes: TODAS_ID,\r\n        configId: null,\r\n        contatos: []\r\n      },\r\n      contatoMailing: {},\r\n      loadingBtn: false,\r\n      loading: false,\r\n      headersContato: [\r\n        {\r\n          sortable: false,\r\n          align: 'left',\r\n          text: 'Nome',\r\n          value: 'nome'\r\n        },\r\n        {\r\n          sortable: false,\r\n          align: 'left',\r\n          text: 'Email',\r\n          value: 'email'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: '',\r\n          align: 'right',\r\n          width: '40px'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  beforeMount () {\r\n    this.loading = true\r\n    CobrancaBusiness.getConfigMailing(this.$root.usuarioId())\r\n      .then(response => {\r\n        if (response.data) {\r\n          this.filtros = response.data\r\n        }\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n  },\r\n  methods: {\r\n    validateBeforeSubmit () {\r\n      this.$validator.validate().then(result => {\r\n        if (result) {\r\n          this.loading = true\r\n          CobrancaBusiness.salvarConfigMailing(this.filtros)\r\n            .then(response => {\r\n              this.$root.showSucesso('Operação realizada com sucesso')\r\n              this.filtros = response.data\r\n            })\r\n            .catch(erro => this.$root.showErro(erro.data))\r\n            .finally(() => {\r\n              this.loading = false\r\n            })\r\n        } else {\r\n          this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n        }\r\n      })\r\n    },\r\n    addContato () {\r\n      this.$validator.validate().then(result => {\r\n        if (result) {\r\n          this.dialogContato = false\r\n          if (!this.contatoMailing.edit) {\r\n            this.filtros.contatos.push(this.contatoMailing)\r\n          }\r\n          this.cancelarContato()\r\n        } else {\r\n          this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n        }\r\n      })\r\n    },\r\n    novoContato () {\r\n      this.contatoMailing = {\r\n        nome: null,\r\n        email: null,\r\n        edit: false\r\n      }\r\n      this.dialogContato = true\r\n    },\r\n    cancelarContato () {\r\n      this.contatoMailing = {\r\n        nome: null,\r\n        email: null,\r\n        edit: false\r\n      }\r\n      this.dialogContato = false\r\n    },\r\n    editContato (item) {\r\n      this.contatoMailing = item\r\n      this.contatoMailing.edit = true\r\n      this.dialogContato = true\r\n    },\r\n    deleteContato (item) {\r\n      this.filtros.contatos = this.filtros.contatos.filter(a => a.nome !== item.nome && a.email !== item.email)\r\n    },\r\n    geraMailingDownload () {\r\n      this.loading = true\r\n      CobrancaBusiness.geraRelatorioMailing(this.filtros)\r\n        .then(response => {\r\n          this.loading = false\r\n          const url = window.URL.createObjectURL(new Blob([response.data]))\r\n          const link = document.createElement('a')\r\n          link.href = url\r\n          link.setAttribute('download', response.headers['content-disposition'].split(';')[1].split('=')[1])\r\n          document.body.appendChild(link)\r\n          link.click()\r\n        }).catch(erro => {\r\n          this.$root.showErro(erro.data)\r\n          this.loading = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailingCobranca.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MailingCobranca.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MailingCobranca.vue?vue&type=template&id=447b7d3a&\"\nimport script from \"./MailingCobranca.vue?vue&type=script&lang=js&\"\nexport * from \"./MailingCobranca.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}