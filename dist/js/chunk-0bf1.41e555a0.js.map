{"version":3,"sources":["webpack:///./src/views/repasse/reembolso/ReembolsoRepasse.vue?78fc","webpack:///src/views/repasse/reembolso/ReembolsoRepasse.vue","webpack:///./src/views/repasse/reembolso/ReembolsoRepasse.vue?9210","webpack:///./src/views/repasse/reembolso/ReembolsoRepasse.vue","webpack:///./src/utils/numberUtils.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-md","row","wrap","show","loading","_e","md12","staticClass","_v","md9","show-todas","obrigatorio","model","value","callback","$$v","form","expression","md3","type","label","$set","disabled","disableBtn","loadingBtn","color","on","click","gerar","headers","items","select-all","item-key","hide-actions","scopedSlots","_u","key","fn","props","staticStyle","width","input-value","all","indeterminate","hide-details","nativeOn","$event","toggleAll","_l","header","text","class","align","_s","active","selected","primary","item","redeNome","lojaNome","directives","name","rawName","formatValorMonetario","vlTotalCompras","vlTotalComissaoCompras","vlTotalCreditoAdmin","vlTotalPagamentosLoja","vlTotalCreditoLojista","vlTotalPagar","length","openDialogBoleto","justify-center","max-width","dialogBoleto","_f","vencimentoAte","outline","gerarBoleto","staticRenderFns","ReembolsoRepassevue_type_script_lang_js_","data","redeId","constants","empresaId","lojaId","empresaNome","lojasSelecionadas","sortable","computed","methods","slice","_this","business","calculaReembolsoRepasse","then","response","$root","showAlerta","catch","showErro","finally","_this2","map","efetuarReembolso","showSucesso","erro","valor","numberUtils","reembolso_ReembolsoRepassevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","convertStringToNumber","valorStr","Number","replaceAll","replace","calculaDescontoPercentual","valorBase","percentual","percentualCalculado","console","log","toLocaleString","minimumFractionDigits","maximumFractionDigits"],"mappings":"mIAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,eAAyBE,OAAOC,MAAA,GAAAC,eAAA,MAA8BJ,EAAA,UAAAA,EAAA,YAA8BE,OAAOG,IAAA,GAAAC,KAAA,MAAoBN,EAAA,uBAA4BE,OAAOK,KAAAX,EAAAY,WAAoBZ,EAAAY,QAA88HZ,EAAAa,MAA98HT,EAAA,UAA+BE,OAAOQ,KAAA,MAAWV,EAAA,UAAeW,YAAA,gBAA0BX,EAAA,gBAAAA,EAAA,MAA8BW,YAAA,kBAA4Bf,EAAAgB,GAAA,0BAAAZ,EAAA,eAAAA,EAAA,YAAoEE,OAAOG,IAAA,GAAAC,KAAA,MAAoBN,EAAA,UAAeE,OAAOW,IAAA,MAAUb,EAAA,iCAAsCE,OAAOY,cAAA,EAAAC,aAAA,GAAqCC,OAAQC,MAAArB,EAAA,KAAAsB,SAAA,SAAAC,GAA0CvB,EAAAwB,KAAAD,GAAaE,WAAA,WAAoB,GAAArB,EAAA,UAAmBE,OAAOoB,IAAA,MAAUtB,EAAA,gBAAqBE,OAAOqB,KAAA,OAAAC,MAAA,kBAAuCR,OAAQC,MAAArB,EAAAwB,KAAA,cAAAF,SAAA,SAAAC,GAAwDvB,EAAA6B,KAAA7B,EAAAwB,KAAA,gBAAAD,IAAyCE,WAAA,yBAAkC,OAAArB,EAAA,YAAyBW,YAAA,gBAA0BX,EAAA,SAAcE,OAAOwB,SAAA9B,EAAA+B,WAAAnB,QAAAZ,EAAAgC,WAAAC,MAAA,WAAqEC,IAAKC,MAAAnC,EAAAoC,SAAmBpC,EAAAgB,GAAA,uBAAAZ,EAAA,UAA6CW,YAAA,SAAmBX,EAAA,gBAAqBW,YAAA,8BAAAT,OAAiD+B,QAAArC,EAAAqC,QAAAC,MAAAtC,EAAAsC,MAAAC,aAAA,GAAAC,WAAA,SAAAC,eAAA,IAA8FC,YAAA1C,EAAA2C,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAA1C,EAAA,MAAAA,EAAA,MAA0B2C,aAAaC,MAAA,QAAc5C,EAAA,cAAmBE,OAAO2C,cAAAH,EAAAI,IAAAC,cAAAL,EAAAK,cAAAC,eAAA,IAA8EC,UAAWlB,MAAA,SAAAmB,GAAyB,OAAAtD,EAAAuD,UAAAD,QAA+B,GAAAtD,EAAAwD,GAAAV,EAAA,iBAAAW,GAA8C,OAAArD,EAAA,MAAgBwC,IAAAa,EAAAC,KAAAC,MAAAF,EAAAE,MAAArD,OAA0CsD,MAAAH,EAAAG,SAAsB5D,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAAJ,EAAAC,MAAA,6BAAgF,OAAUd,IAAA,QAAAC,GAAA,SAAAC,GAA+B,OAAA1C,EAAA,MAAiBE,OAAOwD,OAAAhB,EAAAiB,YAAyB3D,EAAA,MAAAA,EAAA,cAA4BE,OAAO2C,cAAAH,EAAAiB,SAAAC,QAAA,GAAAZ,eAAA,IAA4DlB,IAAKC,MAAA,SAAAmB,GAAyBR,EAAAiB,UAAAjB,EAAAiB,cAAmC,GAAA3D,EAAA,MAAAJ,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAAf,EAAAmB,KAAAC,UAAA,0BAAA9D,EAAA,MAAAJ,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAAf,EAAAmB,KAAAE,UAAA,0BAAA/D,EAAA,MAA6MgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,eAAAxC,WAAA,8BAA8GV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAO,iBAAA,0BAAApE,EAAA,MAAiIgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,uBAAAxC,WAAA,sCAA8HV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAQ,yBAAA,0BAAArE,EAAA,MAAyIgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,oBAAAxC,WAAA,mCAAwHV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAS,sBAAA,0BAAAtE,EAAA,MAAsIgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,sBAAAxC,WAAA,qCAA4HV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAU,wBAAA,0BAAAvE,EAAA,MAAwIgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,sBAAAxC,WAAA,qCAA4HV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAW,wBAAA,0BAAAxE,EAAA,MAAwIgE,aAAaC,KAAA,WAAAC,QAAA,aAAAjD,MAAAyB,EAAAmB,KAAA,aAAAxC,WAAA,4BAA0GV,YAAA,kBAA8Bf,EAAAgB,GAAA,yBAAAhB,EAAA6D,GAAA7D,EAAAuE,qBAAAzB,EAAAmB,KAAAY,eAAA,iCAA0HzD,OAAUC,MAAArB,EAAA,SAAAsB,SAAA,SAAAC,GAA8CvB,EAAA+D,SAAAxC,GAAiBE,WAAA,cAAwBrB,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAAkDE,OAAOwB,SAAA,IAAA9B,EAAA+D,SAAAe,OAAAlE,QAAAZ,EAAAgC,WAAAC,MAAA,WAAgFC,IAAKC,MAAAnC,EAAA+E,oBAA8B/E,EAAAgB,GAAA,6CAAAZ,EAAA,YAA8EE,OAAOG,IAAA,GAAAuE,iBAAA,MAA8B5E,EAAA,YAAiBE,OAAO2E,YAAA,OAAkB7D,OAAQC,MAAArB,EAAA,aAAAsB,SAAA,SAAAC,GAAkDvB,EAAAkF,aAAA3D,GAAqBE,WAAA,kBAA4BrB,EAAA,UAAAA,EAAA,gBAAkCW,YAAA,aAAuBf,EAAAgB,GAAA,gCAAAZ,EAAA,WAAuDE,OAAOe,OAAA,EAAAM,KAAA,aAA+BvB,EAAA,QAAAJ,EAAAgB,GAAA,6HAAAZ,EAAA,eAAAA,EAAA,KAAAJ,EAAAgB,GAAA,mLAAAZ,EAAA,QAAgXW,YAAA,UAAoBf,EAAAgB,GAAA,IAAAhB,EAAA6D,GAAA7D,EAAAmF,GAAA,SAAAnF,GAAAwB,KAAA4D,cAAA,sBAAApF,EAAAgB,GAAA,uBAAAZ,EAAA,kBAAAA,EAAA,SAAiJ2C,aAAad,MAAA,oBAA2B3B,OAAQ+E,QAAA,IAAanD,IAAKC,MAAA,SAAAmB,GAAyBtD,EAAAkF,cAAA,MAA2BlF,EAAAgB,GAAA,cAAAZ,EAAA,YAAAA,EAAA,SAAkDE,OAAO2B,MAAA,WAAkBC,IAAKC,MAAA,SAAAmB,GAAyBtD,EAAAsF,kBAAoBtF,EAAAgB,GAAA,qCAC33KuE,yCCsMAC,GACAC,KADA,WAEA,OACA1B,YACAmB,cAAA,EACA1D,MACAkE,OAAAC,EAAA,KACAC,UAAAD,EAAA,KACAE,OAAAF,EAAA,KACAzB,SAAA,KACA4B,YAAA,KACAV,cAAA,KACAW,sBAEAzD,SACAD,UAEA2D,UAAA,EACAtC,KAAA,OACArC,MAAA,WACAuC,MAAA,OACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,iBACAE,MAAA,OACAvC,MAAA,WACAsC,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,UACArC,MAAA,UACAuC,MAAA,QACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,mBACArC,MAAA,kBACAuC,MAAA,QACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,iBACArC,MAAA,gBACAuC,MAAA,QACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,iBACArC,MAAA,aACAuC,MAAA,QACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,mBACArC,MAAA,kBACAuC,MAAA,QACAD,MAAA,mBAGAqC,UAAA,EACAtC,KAAA,0BACArC,MAAA,eACAuC,MAAA,QACAD,MAAA,mBAQA/C,SAAA,EACAoB,YAAA,IAGAiE,UACAlE,WADA,WAEA,QAAA9B,KAAAuB,KAAAkE,QAAAzF,KAAAuB,KAAAoE,WAAA3F,KAAAuB,KAAA4D,iBAGAc,SACA3C,UADA,WAEAtD,KAAA8D,SAAAe,OAAA7E,KAAA8D,YACA9D,KAAA8D,SAAA9D,KAAAqC,MAAA6D,SAEA/D,MALA,WAKA,IAAAgE,EAAAnG,KACAA,KAAA+B,WAAA/B,KAAAW,SAAA,EACAyF,EAAA,KAAAC,wBAAArG,KAAAuB,MACA+E,KAAA,SAAAC,GACAJ,EAAA9D,MAAAkE,EAAAf,KACAW,EAAA7C,YACA,IAAA6C,EAAA9D,MAAAwC,QACAsB,EAAAK,MAAAC,WAAA,qCAGAC,MAAA,kBAAAP,EAAAK,MAAAG,SAAA,kEACAC,QAAA,WACAT,EAAApE,WAAAoE,EAAAxF,SAAA,KAGAmE,iBApBA,WAqBA9E,KAAAiF,cAAA,GAEAI,YAvBA,WAuBA,IAAAwB,EAAA7G,KACAA,KAAAuB,KAAAuE,kBAAA9F,KAAA8D,SAAAgD,IAAA,SAAA9C,GAAA,OAAAA,EAAA4B,SACA5F,KAAAW,SAAA,EACAyF,EAAA,KAAAW,iBAAA/G,KAAAuB,MACA+E,KAAA,SAAAC,GACAM,EAAAL,MAAAQ,YAAAT,EAAAf,MACAqB,EAAA5B,cAAA,IACAyB,MAAA,SAAAO,GACAJ,EAAAL,MAAAG,SAAAM,EAAAzB,QACAoB,QAAA,WACAC,EAAAlG,SAAA,KAGA2D,qBApCA,SAoCA4C,GACA,OAAAC,EAAA,KAAA7C,qBAAA4C,MCnUwXE,EAAA,cCOxXC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAtH,EACAwF,GACF,EACA,KACA,KACA,MAIekC,EAAA,WAAAH,mEClBAG,EAAA,MACbC,sBADa,SACUC,GAErB,OAAMA,EAEGC,OAAOD,EAASE,WAAW,IAAK,IAAIC,QAAQ,IAAK,KAAKA,QAAQ,aAAc,KAE9E,GAETC,0BATa,SAScC,EAAWC,GACpC,GAAIA,EAAY,CACd,IAAIC,EAAuBjI,KAAKyH,sBAAsBO,GAAc,IAIpE,OAHAE,QAAQC,IAAI,wBAA0BF,GACtCC,QAAQC,IAAI,cAAgBJ,GAC5BG,QAAQC,IAAI,iBAAmBJ,EAAYE,GACpCF,EAAYE,EAErB,OAAO,GAET3D,qBAnBa,SAmBS4C,GACpB,OAAIA,EACKA,EAAMkB,eAAe,SAAWC,sBAAuB,EAAGC,sBAAuB,IAEnF","file":"js/chunk-0bf1.41e555a0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-form',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('core-progress-modal',{attrs:{\"show\":_vm.loading}}),(!_vm.loading)?[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-title',[_c('h3',{staticClass:\"headline mb-0\"},[_vm._v(\"Reembolsar Repasse\")])]),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md9\":\"\"}},[_c('core-filtro-rede-empresa-loja',{attrs:{\"show-todas\":true,\"obrigatorio\":true},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}})],1),_c('v-flex',{attrs:{\"md3\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"Vencimento até\"},model:{value:(_vm.form.vencimentoAte),callback:function ($$v) {_vm.$set(_vm.form, \"vencimentoAte\", $$v)},expression:\"form.vencimentoAte\"}})],1)],1),_c('v-layout',{staticClass:\"justify-end\"},[_c('v-btn',{attrs:{\"disabled\":_vm.disableBtn,\"loading\":_vm.loadingBtn,\"color\":\"primary\"},on:{\"click\":_vm.gerar}},[_vm._v(\"Gerar\")])],1)],1)],1),_c('v-card',{staticClass:\"mt-3\"},[_c('v-data-table',{staticClass:\"elevation-1 arrow-pagintion\",attrs:{\"headers\":_vm.headers,\"items\":_vm.items,\"select-all\":\"\",\"item-key\":\"lojaId\",\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"headers\",fn:function(props){return [_c('tr',[_c('th',{staticStyle:{\"width\":\"3%\"}},[_c('v-checkbox',{attrs:{\"input-value\":props.all,\"indeterminate\":props.indeterminate,\"hide-details\":\"\"},nativeOn:{\"click\":function($event){return _vm.toggleAll($event)}}})],1),_vm._l((props.headers),function(header){return _c('th',{key:header.text,class:header.class,attrs:{\"align\":header.align}},[_vm._v(\"\\n                    \"+_vm._s(header.text)+\"\\n                  \")])})],2)]}},{key:\"items\",fn:function(props){return [_c('tr',{attrs:{\"active\":props.selected}},[_c('td',[_c('v-checkbox',{attrs:{\"input-value\":props.selected,\"primary\":\"\",\"hide-details\":\"\"},on:{\"click\":function($event){props.selected = !props.selected}}})],1),_c('td',[_vm._v(\"\\n                    \"+_vm._s(props.item.redeNome)+\"\\n                  \")]),_c('td',[_vm._v(\"\\n                    \"+_vm._s(props.item.lojaNome)+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalCompras),expression:\"props.item.vlTotalCompras\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalCompras))+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalComissaoCompras),expression:\"props.item.vlTotalComissaoCompras\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalComissaoCompras))+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalCreditoAdmin),expression:\"props.item.vlTotalCreditoAdmin\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalCreditoAdmin))+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalPagamentosLoja),expression:\"props.item.vlTotalPagamentosLoja\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalPagamentosLoja))+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalCreditoLojista),expression:\"props.item.vlTotalCreditoLojista\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalCreditoLojista))+\"\\n                  \")]),_c('td',{directives:[{name:\"negative\",rawName:\"v-negative\",value:(props.item.vlTotalPagar),expression:\"props.item.vlTotalPagar\"}],staticClass:\"text-xs-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.formatValorMonetario(props.item.vlTotalPagar))+\"\\n                  \")])])]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":_vm.selected.length === 0,\"loading\":_vm.loadingBtn,\"color\":\"primary\"},on:{\"click\":_vm.openDialogBoleto}},[_vm._v(\"Efetuar Reembolso\")])],1)],1)],1)]:_vm._e()],2)],1),[_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"max-width\":\"490\"},model:{value:(_vm.dialogBoleto),callback:function ($$v) {_vm.dialogBoleto=$$v},expression:\"dialogBoleto\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Confirma Emissão de Boleto\")]),_c('v-alert',{attrs:{\"value\":true,\"type\":\"warning\"}},[_c('span',[_vm._v(\"Será enviado um email para a empresa e ao entrar no sistema Prático receberá uma notificação com o boleto para pagar.\")])]),_c('v-card-text',[_c('p',[_vm._v(\"\\n              Confirma a emissão de boleto para cada empresa selecionada,\\n              com valor correspondente ao saldo acumulado a pagar\\n              e com vencimento \"),_c('span',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(_vm.form.vencimentoAte,\"DD/MM/YYYY\"))+\" \")]),_vm._v(\"?\\n            \")])]),_c('v-card-actions',[_c('v-btn',{staticStyle:{\"color\":\"black !important\"},attrs:{\"outline\":\"\"},on:{\"click\":function($event){_vm.dialogBoleto = false}}},[_vm._v(\"Cancelar\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.gerarBoleto()}}},[_vm._v(\"Confirmar\")])],1)],1)],1)],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fluid\r\n    grid-list-md>\r\n    <v-form>\r\n      <v-layout\r\n        row\r\n        wrap>\r\n        <core-progress-modal :show=\"loading\" />\r\n        <template v-if=\"!loading\">\r\n          <v-flex md12>\r\n            <v-card class=\"elevation-0\">\r\n              <v-card-title>\r\n                <h3 class=\"headline mb-0\">Reembolsar Repasse</h3>\r\n              </v-card-title>\r\n              <v-card-text>\r\n                <v-layout\r\n                  row\r\n                  wrap>\r\n                  <v-flex md9>\r\n                    <core-filtro-rede-empresa-loja\r\n                      v-model=\"form\"\r\n                      :show-todas=\"true\"\r\n                      :obrigatorio=\"true\"\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md3>\r\n                    <v-text-field\r\n                      v-model=\"form.vencimentoAte\"\r\n                      type=\"date\"\r\n                      label=\"Vencimento até\"\r\n                    />\r\n                  </v-flex>\r\n                </v-layout>\r\n                <v-layout class=\"justify-end\">\r\n                  <v-btn\r\n                    :disabled=\"disableBtn\"\r\n                    :loading=\"loadingBtn\"\r\n                    color=\"primary\"\r\n                    @click=\"gerar\">Gerar</v-btn>\r\n                </v-layout>\r\n              </v-card-text>\r\n            </v-card>\r\n            <v-card\r\n              class=\"mt-3\"\r\n            >\r\n              <v-data-table\r\n                v-model=\"selected\"\r\n                :headers=\"headers\"\r\n                :items=\"items\"\r\n                class=\"elevation-1 arrow-pagintion\"\r\n                select-all\r\n                item-key=\"lojaId\"\r\n                hide-actions\r\n              >\r\n                <template\r\n                  slot=\"headers\"\r\n                  scope=\"props\"\r\n                >\r\n                  <tr>\r\n                    <th\r\n                      style=\"width:3%\"\r\n                    >\r\n                      <v-checkbox\r\n                        :input-value=\"props.all\"\r\n                        :indeterminate=\"props.indeterminate\"\r\n                        hide-details\r\n                        @click.native=\"toggleAll\"\r\n                      />\r\n                    </th>\r\n                    <th\r\n                      v-for=\"header in props.headers\"\r\n                      :key=\"header.text\"\r\n                      :class=\"header.class\"\r\n                      :align=\"header.align\"\r\n                    >\r\n                      {{ header.text }}\r\n                    </th>\r\n                  </tr>\r\n                </template>\r\n                <template\r\n                  slot=\"items\"\r\n                  scope=\"props\"\r\n                  ma-5>\r\n                  <tr\r\n                    :active=\"props.selected\">\r\n                    <td>\r\n                      <v-checkbox\r\n                        :input-value=\"props.selected\"\r\n                        primary\r\n                        hide-details\r\n                        @click=\"props.selected = !props.selected\"\r\n                      />\r\n                    </td>\r\n                    <td>\r\n                      {{ props.item.redeNome }}\r\n                    </td>\r\n                    <td>\r\n                      {{ props.item.lojaNome }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalCompras\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalCompras) }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalComissaoCompras\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalComissaoCompras) }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalCreditoAdmin\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalCreditoAdmin) }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalPagamentosLoja\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalPagamentosLoja) }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalCreditoLojista\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalCreditoLojista) }}\r\n                    </td>\r\n                    <td\r\n                      v-negative=\"props.item.vlTotalPagar\"\r\n                      class=\"text-xs-right\"\r\n                    >\r\n                      {{ formatValorMonetario(props.item.vlTotalPagar) }}\r\n                    </td>\r\n                  </tr>\r\n                </template>\r\n              </v-data-table>\r\n              <v-card-actions>\r\n                <v-spacer />\r\n                <v-btn\r\n                  :disabled=\"selected.length === 0\"\r\n                  :loading=\"loadingBtn\"\r\n                  color=\"primary\"\r\n                  @click=\"openDialogBoleto\"\r\n                >Efetuar Reembolso</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-flex>\r\n        </template>\r\n      </v-layout>\r\n    </v-form>\r\n    <template>\r\n      <v-layout\r\n        row\r\n        justify-center>\r\n        <v-dialog\r\n          v-model=\"dialogBoleto\"\r\n          max-width=\"490\">\r\n          <v-card>\r\n            <v-card-title class=\"headline\">Confirma Emissão de Boleto</v-card-title>\r\n            <v-alert\r\n              :value=\"true\"\r\n              type=\"warning\"\r\n            >\r\n              <span>Será enviado um email para a empresa e ao entrar no sistema Prático receberá uma notificação com o boleto para pagar.</span>\r\n            </v-alert>\r\n            <v-card-text>\r\n              <p>\r\n                Confirma a emissão de boleto para cada empresa selecionada,\r\n                com valor correspondente ao saldo acumulado a pagar\r\n                e com vencimento <span class=\"title\"> {{ form.vencimentoAte | moment(\"DD/MM/YYYY\") }} </span>?\r\n              </p>\r\n            </v-card-text>\r\n\r\n            <v-card-actions>\r\n              <v-btn\r\n                outline\r\n                style=\"color: black !important\"\r\n                @click=\"dialogBoleto = false\">Cancelar</v-btn>\r\n\r\n              <v-spacer/>\r\n\r\n              <v-btn\r\n                color=\"primary\"\r\n                @click=\"gerarBoleto()\">Confirmar</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-layout>\r\n    </template>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { ReembolsoBusiness } from '../../../business'\r\nimport numberUtils from '../../../utils/numberUtils'\r\nimport { TODAS_ID } from '../../../constants'\r\nexport default {\r\n  data () {\r\n    return {\r\n      selected: [],\r\n      dialogBoleto: false,\r\n      form: {\r\n        redeId: TODAS_ID,\r\n        empresaId: TODAS_ID,\r\n        lojaId: TODAS_ID,\r\n        redeNome: null,\r\n        empresaNome: null,\r\n        vencimentoAte: null,\r\n        lojasSelecionadas: []\r\n      },\r\n      items: [],\r\n      headers: [\r\n        {\r\n          sortable: false,\r\n          text: 'Rede',\r\n          value: 'redeNome',\r\n          align: 'left',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Empresa (Loja)',\r\n          align: 'left',\r\n          value: 'lojaNome',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Compras',\r\n          value: 'compras',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Comissão compras',\r\n          value: 'comissaoCompras',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Créditos admin',\r\n          value: 'creditosAdmin',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Pagtos em loja',\r\n          value: 'pagtosLoja',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Créditos lojista',\r\n          value: 'creditosLojista',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        },\r\n        {\r\n          sortable: false,\r\n          text: 'Saldo acumulado a pagar',\r\n          value: 'vlTotalPagar',\r\n          align: 'right',\r\n          class: 'grey lighten-1'\r\n        }\r\n        /*,\r\n        {\r\n          sortable: false,\r\n          class: 'grey lighten-1'\r\n        } */\r\n      ],\r\n      loading: false,\r\n      loadingBtn: false\r\n    }\r\n  },\r\n  computed: {\r\n    disableBtn () {\r\n      return !(this.form.redeId && this.form.empresaId && this.form.vencimentoAte)\r\n    }\r\n  },\r\n  methods: {\r\n    toggleAll () {\r\n      if (this.selected.length) this.selected = []\r\n      else this.selected = this.items.slice()\r\n    },\r\n    gerar () {\r\n      this.loadingBtn = this.loading = true\r\n      ReembolsoBusiness.calculaReembolsoRepasse(this.form)\r\n        .then(response => {\r\n          this.items = response.data\r\n          this.toggleAll()\r\n          if (this.items.length === 0) {\r\n            this.$root.showAlerta('Não foram encontrados registros')\r\n          }\r\n        })\r\n        .catch(() => this.$root.showErro('Erro ao tentar gerar o Reembolso Repasse, tentar mais tarde!'))\r\n        .finally(() => {\r\n          this.loadingBtn = this.loading = false\r\n        })\r\n    },\r\n    openDialogBoleto () {\r\n      this.dialogBoleto = true\r\n    },\r\n    gerarBoleto () {\r\n      this.form.lojasSelecionadas = this.selected.map(item => item.lojaId)\r\n      this.loading = true\r\n      ReembolsoBusiness.efetuarReembolso(this.form)\r\n        .then(response => {\r\n          this.$root.showSucesso(response.data)\r\n          this.dialogBoleto = false\r\n        }).catch(erro => {\r\n          this.$root.showErro(erro.data)\r\n        }).finally(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    formatValorMonetario (valor) {\r\n      return numberUtils.formatValorMonetario(valor)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReembolsoRepasse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReembolsoRepasse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReembolsoRepasse.vue?vue&type=template&id=dd2a3e7a&\"\nimport script from \"./ReembolsoRepasse.vue?vue&type=script&lang=js&\"\nexport * from \"./ReembolsoRepasse.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  convertStringToNumber (valorStr) {\r\n    // eslint-disable-next-line no-extra-boolean-cast\r\n    if (!!valorStr) {\r\n      // return Number(valorStr.replace(',', '.').replace(/[^0-9.-]+/g, ''))\r\n      return Number(valorStr.replaceAll('.', '').replace(',', '.').replace(/[^0-9.-]+/g, ''))\r\n    }\r\n    return 0\r\n  },\r\n  calculaDescontoPercentual (valorBase, percentual) {\r\n    if (percentual) {\r\n      let percentualCalculado = (this.convertStringToNumber(percentual) / 100)\r\n      console.log('percentualCalculado: ' + percentualCalculado)\r\n      console.log('valorBase: ' + valorBase)\r\n      console.log('multiplicado: ' + valorBase * percentualCalculado)\r\n      return valorBase * percentualCalculado\r\n    }\r\n    return 0\r\n  },\r\n  formatValorMonetario (valor) {\r\n    if (valor) {\r\n      return valor.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n    }\r\n    return '0,00'\r\n  }\r\n}\r\n"],"sourceRoot":""}