{"version":3,"sources":["webpack:///./src/views/users/Usuario.vue?4043","webpack:///src/views/users/Usuario.vue","webpack:///./src/views/users/Usuario.vue?8157","webpack:///./src/views/users/Usuario.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-md","row","wrap","md12","color","title","lazy-validation","on","submit","$event","preventDefault","validateBeforeSubmit","model","value","callback","$$v","valid","expression","staticClass","directives","name","rawName","items","roles","error-messages","errors","collect","label","item-value","item-text","data-vv-name","multiple","chips","required","form","$set","md6","empresas","change","changeEmpresa","lojas","type","md4","id","disabled","ref","append-icon","showPasswd","rules","rulesPasswd","min","hint","counter","click:append","click","openAlterarSenha","_v","_e","staticStyle","outline","cancelar","loading","loadingBtn","usuario-id","show","dialogAlterarSenha","close","closeAlterarSenha","staticRenderFns","Usuariovue_type_script_lang_js_","metaInfo","titleTemplate","data","nome","email","login","senha","confirmaSenha","ativo","empresaId","bloqueioIp","loadingAlterarSenha","v","length","computed","requiredEmpresaLoja","role","i","getRoleById","beforeMount","_this","$route","params","business","getById","then","response","constants","acao","carregarLojas","findAll","methods","_this2","$validator","validate","result","salvar","$root","showSucesso","$router","push","catch","error","showErro","finally","showAlerta","$vuetify","t","back","_this3","getAllLojas","roleId","filter","users_Usuariovue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/b855.9f1b6f4f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('material-card',{attrs:{\"color\":\"primary\",\"title\":\"Cadastro de Usuário\"}},[_c('v-form',{attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateBeforeSubmit($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-card',{staticClass:\"elevation-0\"},[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"items\":_vm.roles,\"error-messages\":_vm.errors.collect('role'),\"label\":\"Perfil de Acesso\",\"name\":\"role\",\"item-value\":\"id\",\"item-text\":\"nome\",\"data-vv-name\":\"Perfil de Acesso\",\"multiple\":\"\",\"chips\":\"\",\"required\":\"\"},model:{value:(_vm.form.roles),callback:function ($$v) {_vm.$set(_vm.form, \"roles\", $$v)},expression:\"form.roles\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.requiredEmpresaLoja),expression:\"requiredEmpresaLoja\"}],attrs:{\"items\":_vm.empresas,\"error-messages\":_vm.errors.collect('Empresa'),\"data-vv-name\":\"Empresa\",\"label\":\"Empresa\",\"name\":\"empresa\",\"item-value\":\"id\",\"item-text\":\"nome\",\"chips\":\"\"},on:{\"change\":_vm.changeEmpresa},model:{value:(_vm.form.empresaId),callback:function ($$v) {_vm.$set(_vm.form, \"empresaId\", $$v)},expression:\"form.empresaId\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\"}},[_c('v-autocomplete',{directives:[{name:\"validate\",rawName:\"v-validate\",value:(_vm.requiredEmpresaLoja),expression:\"requiredEmpresaLoja\"}],attrs:{\"items\":_vm.lojas,\"error-messages\":_vm.errors.collect('Loja'),\"data-vv-name\":\"Loja\",\"label\":\"Loja\",\"name\":\"lojas\",\"item-value\":\"id\",\"item-text\":\"descricao\",\"multiple\":\"\",\"chips\":\"\"},model:{value:(_vm.form.lojas),callback:function ($$v) {_vm.$set(_vm.form, \"lojas\", $$v)},expression:\"form.lojas\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"error-messages\":_vm.errors.collect('Nome Usuário'),\"label\":\"Nome Usuário\",\"data-vv-name\":\"Nome Usuário\",\"required\":\"\"},model:{value:(_vm.form.nome),callback:function ($$v) {_vm.$set(_vm.form, \"nome\", $$v)},expression:\"form.nome\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\"}},[_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"error-messages\":_vm.errors.collect('E-mail'),\"label\":\"Email\",\"type\":\"email\",\"data-vv-name\":\"E-mail\",\"required\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_c('v-flex',{attrs:{\"md4\":\"\"}},[(!_vm.form.id)?_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"lowercase\",attrs:{\"error-messages\":_vm.errors.collect('Login'),\"label\":\"Login\",\"data-vv-name\":\"Login\",\"required\":\"\"},model:{value:(_vm.form.login),callback:function ($$v) {_vm.$set(_vm.form, \"login\", $$v)},expression:\"form.login\"}}):_c('v-text-field',{attrs:{\"label\":\"Login\",\"disabled\":\"\"},model:{value:(_vm.form.login),callback:function ($$v) {_vm.$set(_vm.form, \"login\", $$v)},expression:\"form.login\"}})],1),_c('v-flex',{attrs:{\"md4\":\"\"}},[(!_vm.form.id)?_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],ref:\"senha\",attrs:{\"error-messages\":_vm.errors.collect('Senha'),\"append-icon\":_vm.showPasswd ? 'mdi-eye': 'mdi-eye-off',\"rules\":[_vm.rulesPasswd.required, _vm.rulesPasswd.min],\"type\":_vm.showPasswd ? 'text' : 'password',\"label\":\"Senha\",\"name\":\"senha\",\"data-vv-name\":\"Senha\",\"hint\":\"Mínimo de 6 caracteres\",\"counter\":\"\"},on:{\"click:append\":function($event){_vm.showPasswd = !_vm.showPasswd}},model:{value:(_vm.form.senha),callback:function ($$v) {_vm.$set(_vm.form, \"senha\", $$v)},expression:\"form.senha\"}}):_c('v-text-field',{attrs:{\"label\":\"Senha\",\"type\":\"password\",\"value\":\"fdsjflaçjsdflajdsflkjalkdjflasdjfdlskj\",\"disabled\":\"\"}})],1),_c('v-flex',{attrs:{\"md4\":\"\"}},[(!_vm.form.id)?_c('v-text-field',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|confirmed:senha'),expression:\"'required|confirmed:senha'\"}],attrs:{\"error-messages\":_vm.errors.collect('Confirmar Senha'),\"label\":\"Confirmar Senha\",\"type\":\"password\",\"name\":\"confirmaSenha\",\"data-vv-name\":\"Confirmar Senha\"},model:{value:(_vm.form.confirmaSenha),callback:function ($$v) {_vm.$set(_vm.form, \"confirmaSenha\", $$v)},expression:\"form.confirmaSenha\"}}):_c('v-text-field',{attrs:{\"label\":\"Confirmar Senha\",\"type\":\"password\",\"value\":\"fdsjflaçjsdflajdsflkjalkdjflasdjfdlskj\",\"disabled\":\"\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Bloqueio de IPs\",\"name\":\"bloqueioIp\",\"hint\":\"Informe os endereços IPs que o usuário poderá acessar o sistema, separados por <span class='title'>;</span> (ponto e vígula) \"},model:{value:(_vm.form.bloqueioIp),callback:function ($$v) {_vm.$set(_vm.form, \"bloqueioIp\", $$v)},expression:\"form.bloqueioIp\"}})],1),_c('v-flex',{attrs:{\"md12\":\"\"}},[_c('v-checkbox',{attrs:{\"label\":\"Ativo\",\"color\":\"primary\"},model:{value:(_vm.form.ativo),callback:function ($$v) {_vm.$set(_vm.form, \"ativo\", $$v)},expression:\"form.ativo\"}})],1)],1)],1),_c('v-card-actions',[(_vm.form.id)?_c('v-btn',{attrs:{\"color\":\"accent\"},on:{\"click\":_vm.openAlterarSenha}},[_vm._v(\"Alterar Senha\")]):_vm._e(),_c('v-spacer'),_c('v-btn',{staticStyle:{\"color\":\"black !important\"},attrs:{\"outline\":\"\"},on:{\"click\":_vm.cancelar}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"disabled\":!_vm.valid,\"loading\":_vm.loadingBtn,\"type\":\"submit\",\"color\":\"primary\"}},[_vm._v(\"Salvar\")])],1)],1)],1)],1)],1)],1),(_vm.dialogAlterarSenha)?_c('core-alterar-senha',{attrs:{\"usuario-id\":_vm.form.id,\"show\":_vm.dialogAlterarSenha,\"close\":_vm.closeAlterarSenha}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container\r\n    fluid\r\n    grid-list-md>\r\n    <v-layout\r\n      row\r\n      wrap>\r\n      <v-flex md12>\r\n        <material-card\r\n          color=\"primary\"\r\n          title=\"Cadastro de Usuário\">\r\n          <v-form\r\n            v-model=\"valid\"\r\n            lazy-validation\r\n            @submit.prevent=\"validateBeforeSubmit\">\r\n            <v-card class=\"elevation-0\">\r\n              <v-card-text>\r\n                <v-layout\r\n                  row\r\n                  wrap>\r\n                  <v-flex md12>\r\n                    <v-autocomplete\r\n                      v-validate=\"'required'\"\r\n                      v-model=\"form.roles\"\r\n                      :items=\"roles\"\r\n                      :error-messages=\"errors.collect('role')\"\r\n                      label=\"Perfil de Acesso\"\r\n                      name=\"role\"\r\n                      item-value=\"id\"\r\n                      item-text=\"nome\"\r\n                      data-vv-name=\"Perfil de Acesso\"\r\n                      multiple\r\n                      chips\r\n                      required\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md6>\r\n                    <v-autocomplete\r\n                      v-validate=\"requiredEmpresaLoja\"\r\n                      v-model=\"form.empresaId\"\r\n                      :items=\"empresas\"\r\n                      :error-messages=\"errors.collect('Empresa')\"\r\n                      data-vv-name=\"Empresa\"\r\n                      label=\"Empresa\"\r\n                      name=\"empresa\"\r\n                      item-value=\"id\"\r\n                      item-text=\"nome\"\r\n                      chips\r\n                      @change=\"changeEmpresa\"\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md6>\r\n                    <v-autocomplete\r\n                      v-validate=\"requiredEmpresaLoja\"\r\n                      v-model=\"form.lojas\"\r\n                      :items=\"lojas\"\r\n                      :error-messages=\"errors.collect('Loja')\"\r\n                      data-vv-name=\"Loja\"\r\n                      label=\"Loja\"\r\n                      name=\"lojas\"\r\n                      item-value=\"id\"\r\n                      item-text=\"descricao\"\r\n                      multiple\r\n                      chips\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md6>\r\n                    <v-text-field\r\n                      v-validate=\"'required'\"\r\n                      v-model=\"form.nome\"\r\n                      :error-messages=\"errors.collect('Nome Usuário')\"\r\n                      label=\"Nome Usuário\"\r\n                      data-vv-name=\"Nome Usuário\"\r\n                      required\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md6>\r\n                    <v-text-field\r\n                      v-validate=\"'required|email'\"\r\n                      v-model=\"form.email\"\r\n                      :error-messages=\"errors.collect('E-mail')\"\r\n                      label=\"Email\"\r\n                      type=\"email\"\r\n                      data-vv-name=\"E-mail\"\r\n                      required\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md4>\r\n                    <v-text-field\r\n                      v-validate=\"'required'\"\r\n                      v-if=\"!form.id\"\r\n                      v-model=\"form.login\"\r\n                      :error-messages=\"errors.collect('Login')\"\r\n                      label=\"Login\"\r\n                      data-vv-name=\"Login\"\r\n                      class=\"lowercase\"\r\n                      required\r\n                    />\r\n                    <v-text-field\r\n                      v-else\r\n                      v-model=\"form.login\"\r\n                      label=\"Login\"\r\n                      disabled\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md4>\r\n                    <v-text-field\r\n                      v-validate=\"'required'\"\r\n                      v-if=\"!form.id\"\r\n                      ref=\"senha\"\r\n                      v-model=\"form.senha\"\r\n                      :error-messages=\"errors.collect('Senha')\"\r\n                      :append-icon=\"showPasswd ? 'mdi-eye': 'mdi-eye-off'\"\r\n                      :rules=\"[rulesPasswd.required, rulesPasswd.min]\"\r\n                      :type=\"showPasswd ? 'text' : 'password'\"\r\n                      label=\"Senha\"\r\n                      name=\"senha\"\r\n                      data-vv-name=\"Senha\"\r\n                      hint=\"Mínimo de 6 caracteres\"\r\n                      counter\r\n                      @click:append=\"showPasswd = !showPasswd\"\r\n                    />\r\n                    <v-text-field\r\n                      v-else\r\n                      label=\"Senha\"\r\n                      type=\"password\"\r\n                      value=\"fdsjflaçjsdflajdsflkjalkdjflasdjfdlskj\"\r\n                      disabled\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md4>\r\n                    <v-text-field\r\n                      v-validate=\"'required|confirmed:senha'\"\r\n                      v-if=\"!form.id\"\r\n                      v-model=\"form.confirmaSenha\"\r\n                      :error-messages=\"errors.collect('Confirmar Senha')\"\r\n                      label=\"Confirmar Senha\"\r\n                      type=\"password\"\r\n                      name=\"confirmaSenha\"\r\n                      data-vv-name=\"Confirmar Senha\"\r\n                    />\r\n                    <v-text-field\r\n                      v-else\r\n                      label=\"Confirmar Senha\"\r\n                      type=\"password\"\r\n                      value=\"fdsjflaçjsdflajdsflkjalkdjflasdjfdlskj\"\r\n                      disabled\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md12>\r\n                    <v-text-field\r\n                      v-model=\"form.bloqueioIp\"\r\n                      label=\"Bloqueio de IPs\"\r\n                      name=\"bloqueioIp\"\r\n                      hint=\"Informe os endereços IPs que o usuário poderá acessar o sistema, separados por <span class='title'>;</span> (ponto e vígula) \"\r\n                    />\r\n                  </v-flex>\r\n                  <v-flex md12>\r\n                    <v-checkbox\r\n                      v-model=\"form.ativo\"\r\n                      label=\"Ativo\"\r\n                      color=\"primary\"/>\r\n                  </v-flex>\r\n                </v-layout>\r\n              </v-card-text>\r\n              <v-card-actions>\r\n                <v-btn\r\n                  v-if=\"form.id\"\r\n                  color=\"accent\"\r\n                  @click=\"openAlterarSenha\">Alterar Senha</v-btn>\r\n                <v-spacer/>\r\n                <v-btn\r\n                  outline\r\n                  style=\"color: black !important\"\r\n                  @click=\"cancelar\">Cancelar</v-btn>\r\n                <v-btn\r\n                  :disabled=\"!valid\"\r\n                  :loading=\"loadingBtn\"\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                >Salvar</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-form>\r\n        </material-card>\r\n      </v-flex>\r\n    </v-layout>\r\n    <core-alterar-senha\r\n      v-if=\"dialogAlterarSenha\"\r\n      :usuario-id=\"form.id\"\r\n      :show=\"dialogAlterarSenha\"\r\n      :close=\"closeAlterarSenha\"\r\n    />\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { UsuarioBusiness, EmpresaBusiness, RoleBusiness, TiposBusiness } from '../../business'\r\nimport { ACAO_CLONAR } from '../../constants'\r\n\r\nexport default {\r\n  metaInfo: {\r\n    titleTemplate: '%s - Usuário'\r\n  },\r\n  data () {\r\n    return {\r\n      form: {\r\n        id: null,\r\n        nome: null,\r\n        email: null,\r\n        login: null,\r\n        senha: '',\r\n        confirmaSenha: '',\r\n        roles: [],\r\n        lojas: [],\r\n        ativo: true,\r\n        empresaId: null,\r\n        bloqueioIp: null\r\n      },\r\n      showPasswd: false,\r\n      valid: true,\r\n      roles: [],\r\n      empresas: [],\r\n      lojas: [],\r\n      loadingBtn: false,\r\n      loadingAlterarSenha: false,\r\n      rulesPasswd: {\r\n        required: value => !!value || 'Required.',\r\n        min: v => v.length >= 6 || 'Mínimo de 6 caracteres'\r\n      },\r\n      dialogAlterarSenha: false\r\n    }\r\n  },\r\n  computed: {\r\n    requiredEmpresaLoja () {\r\n      if (this.form.roles && this.roles.length > 0) {\r\n        var role = null\r\n        for (let i = 0; i < this.form.roles.length; i++) {\r\n          role = this.getRoleById(this.form.roles[i])\r\n          if (role.nome === 'CREDIARISTA' || role.nome === 'PROPRIETARIO') {\r\n            return 'required'\r\n          }\r\n        }\r\n      }\r\n      return ''\r\n    }\r\n  },\r\n  beforeMount () {\r\n    let id = this.$route.params.id\r\n    if (id) {\r\n      UsuarioBusiness.getById(id).then(response => {\r\n        this.form = response.data\r\n        if (ACAO_CLONAR === this.$route.params.acao) {\r\n          this.form.id = null\r\n          this.form.login = null\r\n          this.form.senha = null\r\n          this.form.nome = null\r\n          this.form.email = null\r\n        }\r\n        this.carregarLojas(this.form.empresaId)\r\n      })\r\n    }\r\n    RoleBusiness.findAll().then(response => { this.roles = response.data })\r\n    EmpresaBusiness.findAll().then(response => {\r\n      this.empresas = response.data\r\n    })\r\n  },\r\n  methods: {\r\n    validateBeforeSubmit () {\r\n      this.$validator.validate().then(result => {\r\n        if (result) {\r\n          this.loadingBtn = true\r\n          UsuarioBusiness.salvar(this.form)\r\n            .then(response => {\r\n              this.$root.showSucesso(response.data)\r\n              this.$router.push('/lista-user')\r\n            })\r\n            .catch(error => {\r\n              this.$root.showErro(error.data)\r\n            })\r\n            .finally(() => {\r\n              this.loadingBtn = false\r\n            })\r\n        } else {\r\n          this.$root.showAlerta(this.$vuetify.t('$vuetify.Erro.camposObrigatorios'))\r\n        }\r\n      })\r\n    },\r\n    cancelar () {\r\n      this.$router.back()\r\n    },\r\n    changeEmpresa (empresaId) {\r\n      this.form.lojas = []\r\n      this.lojas = []\r\n      this.carregarLojas(empresaId)\r\n    },\r\n    carregarLojas (empresaId) {\r\n      if (empresaId) {\r\n        this.form.empresaId = empresaId\r\n        TiposBusiness.getAllLojas(empresaId).then(response => { this.lojas = response.data })\r\n      }\r\n    },\r\n    getRoleById (roleId) {\r\n      return this.roles.filter(role => role.id === roleId)[0]\r\n    },\r\n    openAlterarSenha () {\r\n      this.dialogAlterarSenha = true\r\n    },\r\n    closeAlterarSenha () {\r\n      this.dialogAlterarSenha = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Usuario.vue?vue&type=template&id=0aee304f&\"\nimport script from \"./Usuario.vue?vue&type=script&lang=js&\"\nexport * from \"./Usuario.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}