(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["0936"],{"0936":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("material-card",{attrs:{color:"primary",title:"Pesquisar Cliente"}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-text",[a("v-form",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("core-filtro-rede-empresa-loja",{attrs:{"show-todas":""},model:{value:t.filtros,callback:function(e){t.filtros=e},expression:"filtros"}})],1),a("v-flex",{attrs:{md5:""}},[a("v-text-field",{attrs:{label:"Nome"},model:{value:t.filtros.nome,callback:function(e){t.$set(t.filtros,"nome",e)},expression:"filtros.nome"}})],1),a("v-flex",{attrs:{md2:""}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"###.###.###-##",expression:"'###.###.###-##'"}],attrs:{label:"CPF",type:"text"},model:{value:t.filtros.cpf,callback:function(e){t.$set(t.filtros,"cpf","string"===typeof e?e.trim():e)},expression:"filtros.cpf"}})],1),a("v-flex",{attrs:{md2:""}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["(##) #### - ####","(##) ##### - ####"],expression:"['(##) #### - ####', '(##) ##### - ####']"}],attrs:{label:"Telefone",type:"text"},model:{value:t.filtros.telResidencial,callback:function(e){t.$set(t.filtros,"telResidencial",e)},expression:"filtros.telResidencial"}})],1),a("v-flex",{attrs:{md3:""}},[a("v-text-field",{attrs:{label:"Identidade",type:"text"},model:{value:t.filtros.identidade,callback:function(e){t.$set(t.filtros,"identidade",e)},expression:"filtros.identidade"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:t.loadingBtn,color:"primary"},on:{click:t.pesquisar}},[t._v("Pesquisar")])],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Clientes")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{small:"",fab:"",color:"primary"}},[a("v-icon",{on:{click:function(e){t.newItem()}}},[t._v("mdi-plus")])],1)],1),a("v-progress-linear",{attrs:{active:t.loading,color:"light-blue",indeterminate:"",height:"3"}}),a("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:t.headers,items:t.items,loading:!0,"total-items":t.totalItems,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){var i=e.item;return[a("td",[t._v(t._s(i.nome))]),a("td",[t._v(t._s(i.telefone))]),a("td",[t._v(t._s(i.cpf))]),i.dataNascimento?a("td",[t._v(t._s(t._f("moment")(i.dataNascimento,"DD/MM/YYYY")))]):a("td",[t._v(t._s("-"))]),a("td",[t._v(t._s(i.identidade))]),a("td",[t._v(t._s(i.nomeLoja))]),i.clienteDesde?a("td",[t._v(t._s(t._f("moment")(i.clienteDesde,"DD/MM/YYYY")))]):a("td",[t._v(t._s("-"))]),a("td",{staticClass:"justify-end layout ma-2"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"primary",title:"Editar dados da cliente"},on:{click:function(e){t.editItem(i)}}},[t._v("mdi-pencil")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"secondary",title:"Cobrança Cliente"},on:{click:function(e){t.iniciarCobranca(i)}}},[t._v("mdi-headset")])],1)]}}])})],1)],1)],1)],1)},n=[],l=a("edc6"),o=a("5a50"),s={metaInfo:{titleTemplate:"%s - Clientes"},data:function(){return{dialog:!1,item:null,pagination:{rowsPerPage:15},selected:[],filtros:{redeId:o["k"],empresaId:o["k"],lojaId:o["k"],nome:"",cpf:null,dataNascimento:null,telResidencial:"",identidade:null,dataInicial:null,dataFinal:null},search:"",headers:[{sortable:!1,text:"Nome",value:"nome"},{sortable:!1,text:"Telefone",value:"telefone"},{sortable:!1,text:"CPF",value:"cpf"},{sortable:!1,text:"Data Nascimento",value:"dataNascimento"},{sortable:!1,text:"Identidade",value:"identidade"},{sortable:!1,text:"Nome Loja",value:"nomeLoja"},{sortable:!1,text:"Cliente Desde",value:"dataCadastro"},{sortable:!1,text:"Ações",align:"center"}],items:[],totalItems:null,loading:!1,loadingBtn:!1}},watch:{pagination:{handler:function(){this.paginar()}}},beforeMount:function(){},mounted:function(){this.reload()},methods:{reload:function(){},newItem:function(){this.$router.push("/cad-cliente")},editItem:function(t){this.$router.push("/cad-cliente/".concat(t.clienteId,"/").concat(t.lojaId))},validaFiltros:function(){return this.filtros.nome||this.filtros.cpf||this.filtros.identidade||this.filtros.telResidencial},pesquisar:function(){this.validaFiltros()?(this.loadingBtn=!0,this.paginar()):this.$root.showAlerta("Preencha alguma informação do cliente para a pesquisa.")},paginar:function(){var t=this;this.validaFiltros()&&(this.loading=!0,l["a"].pagination(this.pagination.rowsPerPage,this.pagination.page-1,this.pagination.sortBy||"nome",this.filtros).then(function(e){t.items=e.data.content,t.totalItems=e.data.totalElements}).finally(function(){t.loadingBtn=!1,t.loading=!1}))},iniciarCobranca:function(t){this.$router.push("/cliente-cobranca/".concat(t.clienteId,"/").concat(t.lojaId))}}},r=s,d=a("2877"),c=Object(d["a"])(r,i,n,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=0936.1de501fd.js.map