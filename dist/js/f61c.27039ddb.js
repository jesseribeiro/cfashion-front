(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["f61c"],{f61c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("material-card",{attrs:{color:"primary",title:"Pesquisar Empresa"}},[a("v-card",{staticClass:"elevation-0"},[a("v-card-text",[a("v-form",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{md3:""}},[a("v-text-field",{attrs:{label:"Nome Empresa"},model:{value:t.filtros.nome,callback:function(e){t.$set(t.filtros,"nome",e)},expression:"filtros.nome"}})],1),a("v-flex",{attrs:{md3:""}},[a("v-autocomplete",{attrs:{items:t.repasses,label:"Tipo de Repasse","item-value":"id","item-text":"descricao",clearable:""},model:{value:t.filtros.tpRepasseId,callback:function(e){t.$set(t.filtros,"tpRepasseId",e)},expression:"filtros.tpRepasseId"}})],1),a("v-flex",{attrs:{md3:""}},[a("v-autocomplete",{attrs:{items:t.redes,label:"Rede","item-value":"id","item-text":"descricao",clearable:""},model:{value:t.filtros.redeId,callback:function(e){t.$set(t.filtros,"redeId",e)},expression:"filtros.redeId"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{loading:t.loadingBtn,color:"primary"},on:{click:t.pesquisar}},[t._v("Pesquisar")])],1)],1)],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Empresas")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{small:"",fab:"",color:"primary"}},[a("v-icon",{on:{click:function(e){t.newItem()}}},[t._v("mdi-plus")])],1)],1),a("v-progress-linear",{attrs:{active:t.loading,color:"light-blue",indeterminate:"",height:"3"}}),a("v-data-table",{staticClass:"elevation-1 arrow-pagintion",attrs:{headers:t.headers,items:t.items,"total-items":t.totalItems,pagination:t.pagination},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){var s=e.header;return[a("span",{staticClass:"subheading font-weight-light text--darken-3",domProps:{textContent:t._s(s.text)}})]}},{key:"items",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.nome))]),a("td",[t._v(t._s(s.tpRepasseDescricao))]),a("td",[t._v(t._s(s.nmRede))]),a("td",{staticClass:"justify-end layout ma-2"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"blue",title:"Editar dados da empresa"},on:{click:function(e){t.editItem(s)}}},[t._v("mdi-pencil")]),a("v-icon",{attrs:{color:"red",title:"Excluir a empresa"},on:{click:function(e){t.openDialogDelete(s)}}},[t._v("mdi-delete")])],1)]}}])})],1)],1),t.dialog?[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Excluir Empresa")]),a("v-card-text",[t._v("Confirma a exclusão da Empresa "),a("span",{staticClass:"title"},[t._v(t._s(t.item.nome))]),t._v("? Essa operação não poderá ser desfeita.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{color:"black !important"},attrs:{outline:""},on:{click:t.closeDialogDelete}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"red"},on:{click:t.deleteItem}},[t._v("Excluir")])],1)],1)],1)],1)]:t._e()],2)],1)},i=[],o=a("3a86"),l={metaInfo:{titleTemplate:"%s - Empresas"},data:function(){return{dialog:!1,item:null,loading:!1,totalItems:0,pagination:{rowsPerPage:10,sortBy:"nome"},filtros:{nome:null,redeId:null,tpRepasseId:null},redes:[],repasses:[],search:"",headers:[{text:"Nome",value:"nome",sortable:!1},{text:"Tipo Repasse",value:"tpRepasse",sortable:!1},{text:"Rede",value:"nmRede",sortable:!1},{sortable:!1,text:""}],items:[],loadingBtn:!1}},watch:{pagination:{handler:function(){this.paginar()}}},methods:{reload:function(){var t=this;0===this.redes.length&&o["C"].getAllRedes().then(function(e){t.redes=e.data}),0===this.repasses.length&&o["C"].listRepasse().then(function(e){t.repasses=e.data})},newItem:function(){this.$router.push("cad-empresa")},editItem:function(t){this.$router.push("cad-empresa/".concat(t.id))},openDialogDelete:function(t){this.item=t,this.dialog=!0},closeDialogDelete:function(){this.item=null,this.dialog=!1},deleteItem:function(){var t=this;o["l"].delete(this.item.id).then(function(e){t.$root.showSucesso(e.data),t.closeDialogDelete(),t.paginar()}).catch(function(e){return t.$root.showErro(e.data)})},pesquisar:function(){this.loadingBtn=!0,this.paginar()},paginar:function(){var t=this;this.loading=!0,o["l"].pagination(this.pagination.rowsPerPage,this.pagination.page-1,this.pagination.sortBy||"nome",this.filtros).then(function(e){t.items=e.data.content,t.totalItems=e.data.totalElements}).finally(function(){t.loadingBtn=!1,t.loading=!1}),this.reload()}}},n=l,r=a("2877"),c=Object(r["a"])(n,s,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=f61c.27039ddb.js.map